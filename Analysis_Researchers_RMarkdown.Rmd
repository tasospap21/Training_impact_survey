---
title: "| ![](./atomic.h.taglogo.rgb@3x.png){width=6in} \\vspace{0.2in} \n`r format(params$title)`\n \\vspace{0.1in} "
author: 
  - Dr Anastasios Papaioannou, Intersect Australia
  - Dr Jianzhou Zhao, Intersect Australia
  - Aidan Wilson, Intersect Australia, Australian Catholic University
  - Dr Sam Ryan, Intersect Australia, La Trobe University
  - Marium Afzal Khan, Intersect Australia, University of Adelaide
  - Dr Ghulam Murtaza, Intersect Australia
  - Dr Jonathan Arthur, Intersect Australia
date: "\n \\vspace{0.5in} `r format(Sys.time(), '%B %d, %Y')`"
params:
  title: "Novel study elucidates the long-term behavioural change and impact of Intersect Australia digital skills training on researchers' workflows and ability to conduct research leading to research outputs."
output: 
    bookdown::pdf_document2:
      toc: false 
      pandoc_args:
      - --csl=Extras/ clinical-biochemistry.csl
      - --citation-abbreviations=Extras/abbreviations.json
    bookdown::html_document2: default
    fig_width: 10
    fig_caption: true
header-includes:
   \usepackage{float}
   \usepackage{fancyhdr}
   \usepackage{booktabs,xcolor} 
   \pagestyle{fancy}
   \fancyhf{}
   \fancypagestyle{plain}{\pagestyle{fancy}}
   \fancyhead[LE,RO]{\leftmark}
   \fancyfoot[RO,RE]{\thepage}
   \lfoot{Long-term behavioural change and impact of Intersect Australia digital skills training}
   \renewcommand{\footrulewidth}{1pt}
   # \addtolength{\headheight}{2.0cm}
   # \renewcommand{\headrulewidth}{2pt}
   # \rfoot{\thepage}
   # \cfoot{center}
---

```{r setup, include=FALSE}
  # - Dr Anastasios Papaioannou, Intersect Australia
  # - Dr Jianzhou Zhao, Intersect Australia
  # - Aidan Wilson, Intersect Australia, Australian Catholic University
  # - Dr Sam Ryan, Intersect Australia, La Trobe University
  # - Marium Afzal Khan, Intersect Austarlia, University of Adelaide
  # - Dr Ghulam Murtaza, Intersect Australia


# setup instructions for the R Markdown
knitr::opts_chunk$set(
  echo = FALSE,
	fig.path = "./results/",
	dev = "png",
  dpi = 300,
  fig.pos = "H",
  out.extra = ""
	# include = FALSE
)

# Intersect colours
intersect_color1 <- "#0d1a75"
intersect_color2 <- "#bf0dfa"
intersect_sec_color1 <- "#00052e"
intersect_sec_color2 <- "#9e0000"
intersect_sec_color3 <- "#7e23fc"
intersect_sec_color4 <- "#f5bf33"
intersect_sec_color5 <- "#6d94ac"  #  "#4079ca"
intersect_sec_color5b <- "#7ea5d6"
intersect_sec_color5c <- "#0d4e75"  #  "#a8c2e3"
intersect_sec_color6 <- "#94ebff"
intersect_sec_color1b <- "#253183"
intersect_sec_color1c <- "#6d75ac"  # "#b6bad6"
intersect_sec_color2b <- "#c525fb"
intersect_sec_color2c <- "#d86dfc"  # "#ecb6fe"
```

```{r, include=FALSE}
# Packages
.pkgs <- c("googlesheets4", "tidyr", "dplyr", "ggplot2","ggridges","viridis","hrbrthemes",
           "forcats","lubridate","plotly","scales","formattable","ggExtra","rcartocolor",
           "knitr","googledrive","gridExtra","stringr")


# Check if packages are installed and install if not
.inst <- .pkgs %in% installed.packages()
if(any(!.inst)) {
   install.packages(.pkgs[!.inst])
}

# load the packages needed for this analysis and report
suppressWarnings(sapply(.pkgs, require, character.only = TRUE))

# # Import all the packages needed for this analysis and report
library(googlesheets4)
library(tidyr)
library(dplyr)
library(ggplot2)
library(ggridges)
library(viridis)
library(hrbrthemes)
library(forcats)
library(lubridate)
library(plotly)
library(scales)
library(formattable)
library(ggExtra)
library(rcartocolor)
library(knitr)
library(googledrive)
library(gridExtra)
library(stringr)
```

```{r, message=TRUE, include=FALSE}
# Authenticate 
googlesheets4::gs4_auth(email="anastasios@intersect.org.au")
googledrive::drive_auth(email="anastasios@intersect.org.au")

# Import survey response data using the Google sheet API

# Google ID for the Training impact survey responses GSheet
Responses_Sheet_ID <- "1TgPPXalzJFAhuxS73-0dd-RgE_M7rupkqsXqRJvumsE"

# Read the Responses sheet and drop empty rows
Responses <- read_sheet(Responses_Sheet_ID,
                        sheet = "Responses",
                        range = "Responses!A1:BT10000") %>% 
  drop_na(`Record ID`)


# Google ID for the Course data - Other use GSheet
Courses_Sheet_ID <- "1rYIhYHl-Wtb1fMOLAeN8Im6jkXXGJNeZxFRI58FO1MA"

# Read the Course data - Other use sheet
Courses <- read_sheet(Courses_Sheet_ID,
                      sheet = "Courses")

# Read the Course data - Other use Coeff sheet
Courses_coeff <- read_sheet(Courses_Sheet_ID,
                      sheet = "Coeff")
```

```{r, message = FALSE, warning = FALSE, echo = FALSE}

# Select only the people who responded and only the Research related Roles
Only_Responses <- Responses %>% 
  filter(`Survey Timestamp` != "NULL") %>% 
  filter(Role %in% c("Higher Degree Research Student (Masters)",
                              "Higher Degree Research Student (PhD)",
                              "Post-doc / Fellow",
                              "Academic",
                              "Professional (research-related)"))

# Add the Course level in the Only_Responses df
# test <- merge(Only_Responses,Courses_coeff[,c("Title","Level")],by.x="Course",by.y="Title",all.x = TRUE)

# Recode the levels for 4 kirkpatrick's metrics and open material
Only_Responses <- Only_Responses %>% 
  mutate(reaction_corrected = as.factor(fct_recode(`Do you feel that attending the course was worthwhile to you?`,
        "5 - Extremely worthwhile"="Extremely worthwhile",
        "4 - Very worthwhile"="Very worthwhile",
        "3 - Slightly worthwhile"="Slightly worthwhile",
        "2 - Not very worthwhile"="Not very worthwhile",
        "1 - Not at all worthwhile"="Not at all worthwhile"))) %>% 
  mutate(learning_corrected = as.factor(fct_recode(`Do you feel more or less confident using [technology] since taking the course?`,
        "5 - Much more confident"="Much more confident",
        "4 - More confident"="More confident",
        "3 - No more confident"="No more confident",
        "2 - Less confident"="Less confident",
        "1 - Much less confident"="Much less confident"))) %>% 
  mutate(behaviour_corrected = as.factor(fct_recode(`How frequently were you able to apply [technology] in your research/work since the course?`,
        "5 - Frequently"="Frequently",
        "4 - Often"="Often",
        "3 - Sometimes"="Sometimes",
        "2 - Rarely"="Rarely",
        "1 - Never"="Never"))) %>%
  mutate(results_corrected = as.factor(fct_recode(`To what extent has [technology] been helpful to your research/work?`,
        "5 - Extremely helpful"="Extremely helpful",
        "4 - Very helpful"="Very helpful",
        "3 - Somewhat helpful"="Somewhat helpful",
        "2 - Not very helpful"="Not very helpful",
        "1 - Not at all helpful"="Not at all helpful"))) %>%
  mutate(materials_only_corrected = as.factor(fct_recode(`If you had access to Intersect's training materials for this course, would you still have attended a live workshop?`,
        "5 - Definitely"="Definitely",
        "4 - Probably"="Probably",
        "3 - Possibly"="Possibly",
        "2 - Probably not"="Probably not",
        "1 - Definitely not"="Definitely not")))

# Sort the levels of the 4 corrected Kirkpatrick's metrics and open material 
Only_Responses$reaction_corrected = factor(Only_Responses$reaction_corrected, levels = c(sort(levels(Only_Responses$reaction_corrected), decreasing=F)))
Only_Responses$learning_corrected <- factor(Only_Responses$learning_corrected, levels = c(sort(levels(Only_Responses$learning_corrected), decreasing=F)))
Only_Responses$behaviour_corrected <- factor(Only_Responses$behaviour_corrected, levels = c(sort(levels(Only_Responses$behaviour_corrected), decreasing=F)))
Only_Responses$results_corrected <- factor(Only_Responses$results_corrected, levels = c(sort(levels(Only_Responses$results_corrected), decreasing=F)))
Only_Responses$materials_only_corrected <- factor(Only_Responses$materials_only_corrected, levels = c(sort(levels(Only_Responses$materials_only_corrected), decreasing=F)))


Only_Responses <- Only_Responses %>% 
  mutate(reaction_corrected2 = as.numeric(as.factor(fct_recode(reaction_corrected,
        "5"="5 - Extremely worthwhile",
        "4"="4 - Very worthwhile",
        "3"="3 - Slightly worthwhile",
        "2"="2 - Not very worthwhile",
        "1"="1 - Not at all worthwhile"))))


Only_Responses <- Only_Responses %>% 
  mutate(results_corrected2 = as.numeric(as.factor(fct_recode(results_corrected,
        "5" = "5 - Extremely helpful",
        "4" = "4 - Very helpful",
        "3" = "3 - Somewhat helpful",
        "2" = "2 - Not very helpful",
        "1" = "1 - Not at all helpful"))))

Only_Responses <- Only_Responses %>% 
  mutate(behaviour_corrected2 = as.numeric(as.factor(fct_recode(behaviour_corrected,
        "5" = "5 - Frequently",
        "4" = "4 - Often",
        "3" = "3 - Sometimes",
        "2" = "2 - Rarely",
        "1" = "1 - Never"))))

Only_Responses <- Only_Responses %>% 
  mutate(learning_corrected2 = as.numeric(as.factor(fct_recode(learning_corrected,
        "5" = "5 - Much more confident",
        "4" = "4 - More confident",
        "3" = "3 - No more confident",
        "2" = "2 - Less confident",
        "1" = "1 - Much less confident"))))

Only_Responses <- Only_Responses %>% 
  mutate(materials_only_corrected2 = as.numeric(as.factor(fct_recode(materials_only_corrected,
        "5" = "5 - Definitely",
        "4" = "4 - Probably",
        "3" = "3 - Possibly",
        "2" = "2 - Probably not",
        "1" = "1 - Definitely not"))))

# Recode the levels of eRA support helpful
Only_Responses <- Only_Responses %>% 
  mutate(eRA_helpful = as.factor(fct_recode(`To what extent was/were the local eResearch Analyst/s helpful in providing support for your research/work?`,
        "5 - Extremely helpful"="Extremely helpful",
        "4 - Very helpful"="Very helpful",
        "3 - Somewhat helpful"="Somewhat helpful",
        "2 - Not very helpful"="Not very helpful",
        "1 - Not at all helpful"="Not at all helpful")))

# Sort the levels of eRA support helpful
Only_Responses$eRA_helpful <- factor(Only_Responses$eRA_helpful, levels = c(sort(levels(Only_Responses$eRA_helpful), decreasing=F)))

Only_Responses <- Only_Responses %>% 
  mutate(eRA_helpful2 = as.numeric(as.factor(fct_recode(eRA_helpful,
        "5" = "5 - Extremely helpful",
        "4" = "4 - Very helpful",
        "3" = "3 - Somewhat helpful",
        "2" = "2 - Not very helpful",
        "1" = "1 - Not at all helpful"))))

```

```{r, warning=FALSE, include=FALSE}
# Import attendance data using the Google sheet API

# Google ID for the Attendees data - Other use GSheet
Attendees_Sheet_ID <- "1tCj_HwKKQVZ8slSylJHj_1H-ncSjcgzlWV3CH1jrUwM"

# Download the "Attendees" sheet of the "Attendees data - Other use" that is stored as a csv in GDrive
drive_download("https://drive.google.com/file/d/10GlG6GkOTN6ADHaB0PXftMh0Uolp6T0K/view?usp=sharing",
               type = "csv",
               overwrite = TRUE,
               path = "./data/Attendees_OtherUse.csv")

# Import the csv file for the Attendees data that was previously downloaded
Attendees <- read.csv("./data/Attendees_OtherUse.csv")

# # Read the Attendees sheet
# Attendees <- read_sheet(Attendees_Sheet_ID,
#                         sheet = "Attendees",
#                         range = "Attendees!A1:AK43000",
#                         trim_ws = FALSE)

# Remove empty rows
Attendees <- Attendees %>% 
  drop_na(year) %>% 
  filter(year!=2022)

# Download partial of Attendees sheet which has reasons (starting on Row 18691)
drive_download("https://drive.google.com/file/d/1PWYKcfWYR2BiVHJZ0JJp5o_KFqo6Oiu3/view?usp=sharing",
               type = "csv",
               overwrite = TRUE,
               path = "./data/Attendees_reason.csv")

# Attendees_reason <- read_sheet(Attendees_Sheet_ID,
#                         sheet = "Attendees",
#                         col_names = FALSE,
#                         range = "Attendees!K18691:AH40000")

# Import the csv file for the Attendees reason data that was previously downloaded
Attendees_reason <- read.csv("./data/Attendees_reason.csv", header = FALSE)

# Rename colnames (Status ... FoR_Modified)
colnames(Attendees_reason) <-  colnames(Attendees[11:34])

# Remove empty rows
Attendees_reason <- Attendees_reason %>% 
  drop_na(reason)
```

```{r, include=FALSE}
# Only research-related attendees to be used in this analysis
Attendees_researchers <- Attendees %>% 
  filter(Role_Modified %in% c("Higher Degree Research Student (Masters)",
                              "Higher Degree Research Student (PhD)",
                              "Post-doc / Fellow",
                              "Academic",
                              "Professional (research-related)"))
```

```{r, include=FALSE}
# Add the Competency level in Attendees_researchers df
Attendees_researchers <- merge(Attendees_researchers,Courses_coeff[,c("Code","Level")],by.x="course_code",by.y="Code",all.x = TRUE)

Only_Responses <- merge(Only_Responses,Courses_coeff,by.x="Course",by.y="Title",all.x = TRUE)

```

```{r, include=FALSE}
# Call the following script to convert wide format checkbox answers into long format
source("Checkbox_fix_WideToLong.R", local = knitr::knit_global())

# Call the following script to convert the format of reason to register to a course
# and hear about he course
source("Reason_hear_fix_WideToLong.R", local = knitr::knit_global())

# Call the NPS_gauge script to plot NPS
source("NPS_gauge.R", local = knitr::knit_global())
```

\newpage

# Introduction

Intersect’s mission is to help researchers to be more efficient and effective in their research; reducing the time to move from an idea to a tested solution. As a leading provider of research digital skills training in the Australasian region, Intersect provides an extensive range of technology focused training to researchers and higher degree research (HDR) students across Australia. This training ranges from awareness to advanced levels; is delivered either face-to-face or online; and covers categories such as Research Computing, Programming, Data Science, Data Analytics, Machine Learning (ML) & Artificial Intelligence (AI), Statistics, Data Visualisation, Data Collection, and Data Management. Intersect continually revises, updates, and expands its course catalogue ensuring researchers always have access to the most relevant and useful research training. 
Our hands-on, live, interactive training is delivered, either face-to-face or online, by over 25 highly experienced instructors and is targeted at enhancing the capabilities of researchers in digital tools and technologies. Our research and training expertise extends across various disciplines including, but not limited to: ICT, Data Science, Linguistics, Engineering, Statistics, Bioinformatics, Health & Medical Sciences, Materials Science, Sports Science, Spatial Analytics, Computational Chemistry, Numerical Modeling, Behavioural Science, and Social and Political Sciences.
Since the inception of Intersect’s training program in 2012, over 30,000 trainees (comprising over 13,000 unique participants) have completed Intersect Australia training. Over 2,000 courses have been delivered, across 40+ universities and research-intensive organisations in Australia. In 2021, 6,728 researchers were trained and 349 courses (270.5 training days) were delivered. This equates, on average, to  at least one training course for every working day of the year. Intersect operates a comprehensive, data-driven quality control process to ensure robust, quality delivery of training, including a course evaluation survey at the end of each course to generate a Net Promoter Score (NPS). Intersect’s NPS in 2021 was +75 based on more than 2,500 responses; this is considered outstanding. The average scores of the five primary metrics for measuring the quality of the training delivery exceed 9.4 out of 10, which indicates that feedback from participants is excellent. 
Intersect prides itself on its people, and training is no exception to this. Our growth and continued or improved quality of our training is due entirely to the dedication of our eResearch Trainers and eResearch Analysts, who put in a huge amount of effort to ensure that researchers get a great experience out of our courses. While short-term assessment of trainee satisfaction with our training program is successfully captured and reported via the aforementioned method, determining long-term behavioural change on HDR students, researchers, and staff is more challenging yet equally important in evaluating the impact of digital skills training.
Intersect has developed a Training Impact Survey to assess the long-term impact of our digital skills training on researchers. In addition, the survey aims to gain insights into other key areas of interest, including  whether there is a link between digital tools/technologies and research outputs and investigating the support services researchers use for additional research assistance after training. This survey is now sent biannually to our member university researchers and staff who attended our training a year prior. In the first distribution (June 2021), the survey was sent to those who attended a course between January 2019 and June 2020. We received 740 responses out of approximately 4,800 invitations, a response rate of more than 15%. Subsequently, we sent the survey to those who attended a course from July 2020 to April 2021 and we received 610 responses out of approximately 4,600 invitations. We aggregated the responses from both iterations of the survey and the findings and detailed analytics are presented in this report. 


# Intersect Course Attendance Demographics

The first section of this report provides detailed analytics about Intersect’s training program. All the figures and analytics in this section utilise course and attendance data since 2016. It only includes attendees with research-oriented roles. As such, attendance data in this report may vary from total attendance data reported in other channels.

Figure 1 shows the distribution of class size. Most frequently, Intersect courses have an attendance between 13 and 15. As the class size increases, the number of training courses of this size decreases. Intersect restricts each Intersect Trainer to training a maximum of 10 people based on a maximum practical Trainer:Trainee ratio. Therefore, each Trainer can add up to 10 people to the number of people who can be trained in a course. In the recent years, Intersect Australia has increased the number of trainers in a workshop to meet the growing demand for digital skills training without impacting the quality of training as shown by our course evaluation data. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.cap='Course attendance.', fig.align='center', echo = FALSE}

Courses %>%
  group_by(Attended) %>%
  summarise(Course_number = n()) %>%
  filter(Attended >= 5) %>%
  filter(Attended <= 43) %>%
  ggplot(aes(x = Attended, y = Course_number)) +
  geom_area(fill = intersect_color1, alpha = 0.3) +
  geom_line(color = intersect_color1, size = 1) +
  geom_point(size = 2, color = "#0d1a75") +
  theme_bw() +
  theme(
    legend.position = "none",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 14),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Attendance",
       y = "Number of courses")
```

Figure \@ref(fig:course-by-year) shows the distribution of the number of courses delivered per month for each year since 2016. The median value of the courses delivered per month has increased from about 17 in 2016 to 34 in 2021. In 2019, there was an obvious increase of the number of courses per month where 20 to 25 courses were delivered in most months. The number of courses delivered per month showed much higher variability in  2020, while also showing the highest increase in the median number of courses among the six years. This was due to the onset of the COVID-19 pandemic, which led to a temporary halt to training activity before an active program of development to transition all courses training from in-person to online delivery. In 2021, the number of courses per month increased again, averaging around 35 courses per month. 

```{r course-by-year, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of courses per month by year.', echo = FALSE}

Courses %>%
  mutate(Month_Courses = as.factor(month(`Course date`))) %>% 
  group_by(Year, Month_Courses) %>% 
  filter(Year != 2022) %>% 
  summarise(Course_number = n()) %>% 
  drop_na(Month_Courses) %>% 
  mutate(Year = as.factor(Year)) %>% 
  ggplot(aes(x = Course_number, y = Year, fill = Year)) +
    geom_boxplot() +
    # geom_jitter(color="black", size=0.4, alpha=0.9) +
    # scale_fill_viridis(name = "Temp. [F]", option = "C") +
    # theme_ipsum() +
    theme_bw() +
    theme(
      legend.position = "none",
      axis.title = element_text(size = 14),
      axis.text = element_text(size = 14),
      legend.text = element_text(size = 11),
      legend.title = element_text(size = 13),
      text = element_text(family = "Lato"),
      panel.spacing = unit(0.1, "lines"),
      strip.text.x = element_text(size = 8)
    ) +
    labs(x = "Number of courses",
         y = "Year") +
  xlim(0,60)
```

Figure \@ref(fig:course-by-month) shows the variation in the amount of training activity for each month of the year, over the years since 2016. It is evident that there is typically a lower number of training courses delivered in January and December as a result of the holiday period. In contrast, the busiest months for Intersect training are June, September, October, and November.

```{r course-by-month, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of courses by month.', echo = FALSE}

Courses %>%
  mutate(Month_Courses = as.factor(month(`Course date`))) %>% 
  group_by(Year, Month_Courses) %>% 
  filter(Year != 2022) %>% 
  summarise(Course_number = n()) %>% 
  drop_na(Month_Courses) %>% 
  ggplot(aes(x = Course_number, y = Month_Courses, fill=..x..)) +
    geom_density_ridges_gradient(scale = 2, rel_min_height = 0.01) +
    scale_fill_viridis(name = "Temp. [F]", option = "C") +
    # theme_ipsum() +
    theme_bw() +
    theme(
      legend.position = "none",
      axis.title = element_text(size = 14),
      axis.text = element_text(size = 14),
      legend.text = element_text(size = 11),
      legend.title = element_text(size = 13),
      text = element_text(family = "Lato"),
      panel.spacing = unit(0.1, "lines"),
      strip.text.x = element_text(size = 8)
    ) +
    labs(x = "Number of courses",
         y = "Month") +
  xlim(0,60)
```

Figure 4 shows the numbers of courses by month and year. It is clear that as Intersect constantly expands its course catalogue to incorporate a broader array of courses covering more topics, significantly more courses are delivered every year, and in particular beyond 2019 compared to previous years. Also, it is important to note that more than 30 courses have been delivered each month in the second half of 2020 as Intersect shifted its training delivery to online. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of courses by month and year.', echo = FALSE}

Courses %>%
  mutate(Month_Courses = as.factor(month(`Course date`))) %>% 
  group_by(Year, Month_Courses) %>% 
  filter(Year != 2022) %>% 
  summarise(Course_number = n()) %>% 
  drop_na(Month_Courses) %>% 
  ggplot(aes(x = Year, y = Month_Courses, fill=Course_number)) +
    geom_tile() +
    scale_fill_viridis(name = "# courses", option = "B") +
    # theme_ipsum() +
    theme_bw() +
    theme(
      legend.position = "right",
      axis.title = element_text(size = 14),
      axis.text = element_text(size = 14),
      legend.text = element_text(size = 11),
      legend.title = element_text(size = 13),
      text = element_text(family = "Lato")
    ) +
    labs(x = "Year",
         y = "Month")

## Try the same graph but with normalised data per year
```

In Figure 5, the percentage of the attendees by tool or technology is shown. The figure shows the percentages  for the eight most commonly chosen technologies out of the 22 tools or technologies covered by the Intersect training catalogue. R was the most popular tool (30.2% of all students) followed by Python (24.43%). Microsoft Excel is the third most popular tool with approximately 17% of all students. These three tools, in total, attracted more than 70% of the course attendees. Approximately 13% of the participants attended courses covering the data collection tools, i.e. 7.86% for REDCap and 5.42% for Qualtrics. It is also worth noting that slightly over 5.5% of the attendees studied NVivo for qualitative data analysis. This makes it the fifth most popular tool in Intersect’s course catalogue, despite courses in NVivo being first introduced in mid 2020. 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Attendees per Tool/Technology', echo = FALSE}

Attendees_researchers %>%
  filter(Tool.Technology != "#N/A") %>%
  group_by(Tool.Technology) %>%
  summarise(Count = n()) %>%
  top_n(8) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    # label = paste0(Tool.Technology, ": ", Frequency)) %>%
    label = paste0(Frequency),
    ordered_tool = reorder(Tool.Technology, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_tool
  )) +
  geom_rect() +
  # geom_label(
  #   x = 3.5,
  #   aes(y = labelposition, label = label),
  #   size = c(4, 4, 4, 4, 3.5, 3, 3, 2.5),
  #   show.legend = FALSE,
  #   color = c(1, 1, 1, 1, 1, "white", "white", "white")
  # ) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 5, 4.5, 4, 4, 4),
    color = c("white", "white", "white", "white", "white", "white", 1, 1)
  ) +
  #scale_fill_brewer(palette = 4) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(legend.position = "right") +
  guides(fill = guide_legend(title = "Tool/Technology")) +
  theme(
    #axis.title = element_text(size = 14),
    #axis.text = element_text(size = 14),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato"),
  )
```

Figure 6 shows the number of attendees for the 6 most popular tools each year from 2016 to 2021. Excel was the most popular tool taught until 2017. However, in 2018, programming tools jumped to the top of the list. Since then, there has been a steady uptake of both R and Python by training attendees until 2020 before a significant increase in 2021 when around 3,000 participants attended R and Python courses. The popularity of the two data collection tools increased in 2020, with approximately 500 attendees learning each tool in that year. We hypothesise that the high increase in the uptake of the surveying tools might be related to the pandemic and the need for researchers to move their surveys and data collection workflows into more robust surveying tools not requiring in-person distribution. However, testing the veracity of this hypothesis is beyond the scope of this survey. Intersect introduced training for NVivo in 2020 and it quickly overtook REDCap in 2021, to be the fourth most popular course of the year, behind R, Python, and Excel. 

```{r attendee-per-tool-year, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per Tool/Technology per year', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(year, Tool.Technology) %>%
  count() %>%
  filter(Tool.Technology != "#N/A") %>%
  drop_na() %>%
  arrange(year,desc(n)) %>% 
  group_by(year) %>%
  slice_max(order_by = n, n = 6) %>% 
  mutate(Tool.Technology = factor(Tool.Technology, levels=Tool.Technology)) %>% 
  ggplot() +
  geom_bar(aes(x = year, y = n, fill = Tool.Technology, group = n),
           stat = 'identity',
           width = 0.7) +
  scale_fill_viridis(discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 14),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 6000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  # scale_x_discrete(
  #   breaks = seq(2016, 2021, 1)
  # ) +
  guides(fill = guide_legend(title = "Tool/Technology", reverse = TRUE))
```

Figure \@ref(fig:attendee-per-tool-year-PhD) shows the popularity of tools and technologies for PhD students only. PhD students are the biggest cohort in Intersect training. The distribution is similar to the cohort comprising all the attendees with programming tools being the most popular, followed by data analysis (Excel, NVivo, SPSS), and data collection tools. It is interesting to see that SPSS is slightly more popular among PhD students than REDCap. 

```{r attendee-per-tool-year-PhD, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per Tool/Technology (PhD only)', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  filter(Role_Modified == "Higher Degree Research Student (PhD)") %>% 
  group_by(year, Tool.Technology) %>%
  count() %>%
  filter(Tool.Technology != "#N/A") %>%
  drop_na() %>%
  arrange(year,desc(n)) %>% 
  group_by(year) %>%
  slice_max(order_by = n, n = 6) %>% 
  mutate(Tool.Technology = factor(Tool.Technology, levels=Tool.Technology)) %>% 
  ggplot() +
  geom_bar(aes(x = year, y = n, fill = Tool.Technology, group = n),
           stat = 'identity',
           width = 0.7) +
  scale_fill_viridis(discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 3000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  # scale_x_discrete(
  #   breaks = seq(2016, 2021, 1)
  # )+
  guides(fill = guide_legend(title = "Tool/Technology", reverse = TRUE))
```

The majority of the training attendees were Higher Degree Researcher (HDR) PhD students (61%). Exactly 15% were Postdoctoral researchers or Fellows and 13% were Academics. HDR Master students and Professional staff (who contribute to research) shared the remaining 11%. 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Attendees per role', echo = FALSE}

Attendees_researchers %>%
  filter(Role_Modified != "#N/A") %>%
  mutate(Role_Modified = as.factor(
    fct_recode(
      Role_Modified,
      "HDR (PhD)" = "Higher Degree Research Student (PhD)",
      "HDR (Masters)" = "Higher Degree Research Student (Masters)"
    )
  )) %>%
  group_by(Role_Modified) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency),
    ordered_role = reorder(Role_Modified,-Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_role
  )) +
  geom_rect() +
  # geom_label(
  #   x = 3.5,
  #   aes(y = labelposition, label = label),
  #   size = c(5, 5, 5, 4, 3.5),
  #   show.legend = FALSE,
  #   color = c(1, 1, 1, "white", "white")
  # ) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 4.5, 4),
    color = c("white", "white", "white", "white", 1)
  ) +
  # scale_fill_brewer(palette = 4) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  guides(fill = guide_legend(title = "Role"))

```

As can be seen from Figure \@ref(fig:attendee-per-role-year), the majority of attendees each year were HDR PhD students. Between 2016 and 2018, the second largest cohort was postdoctoral researchers and fellows. However, since 2019, Academics have become the second largest cohort, with their relative proportion of total attendees continuing to increase. In 2021, a substantial increase in the uptake of Intersect training courses was observed among the professional staff (research-related) cohort. This may be due to the pandemic, with academic researchers unable to undertake field work or attend the laboratory turning their attention to data analytics. Alternatively, it may reflect the increasingly data-centric nature of research, resulting in digital tools and technologies becoming an integral part of the research lifecycle. In either case, it certainly represents a need and interest in personal professional development with these tools and technologies.

```{r attendee-per-role-year, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per role per year', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>%
  group_by(year, Role_Modified) %>%
  count() %>%
  filter(Role_Modified != "#N/A") %>%
  mutate(
    Role_Modified = as.factor(
      fct_recode(
        Role_Modified,
        "HDR (PhD)" = "Higher Degree Research Student (PhD)",
        "HDR (Masters)" = "Higher Degree Research Student (Masters)"
      )
    )) %>%
      drop_na() %>%
      arrange(year, desc(n)) %>%
      group_by(year) %>%
      # slice_max(order_by = n, n = 6) %>%
      mutate(Role_Modified = factor(Role_Modified, levels = Role_Modified)) %>%
      ggplot() +
      geom_bar(aes(
    x = year,
    y = n,
    fill = Role_Modified,
    group = n
  ),
  stat = 'identity',
  width = 0.7) +
  scale_fill_viridis(
    name = "Role/Position",
    discrete = TRUE,
    option = "viridis",
    labels = function(x)
      str_wrap(x, width = 40)
  ) +
  #theme_ipsum() +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 6000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  scale_x_continuous(breaks = seq(2016, 2021, 1)) +
  guides(fill = guide_legend(reverse = TRUE))
```

From the distribution of attendees by Faculty,  shown in Figure \@ref(fig:attendee-per-faculty), nearly a third of attendees came from the Faculty of Medicine and Heath, whereas about 27% and 17% were from the Faculty of Science and the Faculty of Engineering, respectively. The Faculty of Arts & Social Sciences accounted for nearly 13% of the attendees, followed by the Business School, the Faculty of Architecture, Design and Planning, and the Faculty of Law. Collectively, this indicates that approximately X% of attendees are from the Humanities, Arts, and Social Sciences. This demonstrates that digital research tools and technologies are not limited to the hard sciences, and that Intersect training is already reaching large cohorts of students from the HASS disciplines.

```{r attendee-per-faculty, message = FALSE, warning = FALSE, out.height= '25%', fig.align='center', fig.cap='Attendees per faculty', echo = FALSE}

Attendees_researchers %>%
  filter(Faculty_Modified != "#N/A") %>%
  mutate(Faculty_Modified = as.factor(
    fct_recode(
      Faculty_Modified,
      "Medicine and Health" = "Faculty of Medicine and Health",
      "Engineering" = "Faculty of Engineering",
      "Arts & Social Sciences" = "Faculty of Arts and Social Sciences",
      "Law" = "Faculty of Law",
      "Science" = "Faculty of Science",
      "Architecture, Design & Planning" =
        "Faculty of Architecture, Design and Planning",
      "Other" = ""
    )
  )) %>%
  group_by(Faculty_Modified) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = Frequency,
    ordered_faculty = reorder(Faculty_Modified, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_faculty
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=c(4,4,4,3.5,3,3,2,0), show.legend = FALSE, color = c(1, 1, 1, 1, 1, "white", "white", "white"), label.size = 0) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 5, 4.5, 4, 4, 0),
    color = c("white", "white", "white", "white", "white", "white", "white", "white")
  ) +
  #scale_fill_brewer(palette = 4) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  guides(fill = guide_legend(title = "Faculty"))

```

Figure \@ref(fig:attendee-per-faculty-year) presents the faculty breakdown of attendees per year. It is interesting to see that the number of attendees from the Faculty of Medicine and Health was similar to that of the Faculty of Science between 2016 and 2018. However, since 2019, the Faculty of Medicine and Health has become the largest faculty cohort utilising the Intersect training program. More importantly, the Faculty of Arts & Social Sciences has overtaken the Faculty of Engineering in the last two years, becoming  the third largest faculty cohort in 2020 and 2021. This, together with the increase of the attendees from the Business School, the Faculty of Architecture, Design, and Planning, and the Faculty of Law, indicates good utilisation of Intersect’s digital research training program by faculties conventionally thought to be less technology-oriented. 

```{r attendee-per-faculty-year, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per faculty per year', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(year, Faculty_Modified) %>%
  count() %>%
  filter(Faculty_Modified != "#N/A") %>%
  mutate(Faculty_Modified = as.factor(fct_recode(Faculty_Modified,
                                    "Medicine and Health"="Faculty of Medicine and Health",
                                    "Engineering"="Faculty of Engineering",
                                    "Arts & Social Sciences"="Faculty of Arts and Social Sciences",
                                    "Law"="Faculty of Law",
                                    "Science"="Faculty of Science",
                                    "Architecture, Design & Planning"="Faculty of Architecture, Design and Planning",
                                    "Other"=""))) %>% 
  drop_na() %>%
  arrange(year,desc(n)) %>% 
  group_by(year) %>%
  # slice_max(order_by = n, n = 6) %>% 
  mutate(Faculty_Modified = factor(Faculty_Modified, levels=Faculty_Modified)) %>% 
  ggplot() +
  geom_bar(aes(x = year, y = n, fill = Faculty_Modified, group = n),
           stat = 'identity',
           width = 0.7) +
  scale_fill_viridis(name="Faculty",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 6000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  scale_x_continuous(
    breaks = seq(2016, 2021, 1)
  ) +
  guides(fill = guide_legend(reverse = TRUE))
```

Analysis of the attendance data based on the Field of Research (FoR) code (top 10) shows the largest cohort of attendees is from Health Sciences with approximately 32% of the attendees followed by Engineering, Biological Sciences, Psychology, and Environmental Sciences, as shown in Figure \@ref(fig:attendee-per-FoR).

```{r attendee-per-FoR, echo=FALSE, fig.align='center', fig.cap='Attendees per FoR code', message=FALSE, warning=FALSE, out.height='25%'}

Attendees_researchers %>% 
  filter(FoR_Modified != "#N/A") %>%
  filter(FoR_Modified != "") %>% 
  group_by(FoR_Modified) %>% 
  summarise(Count = n()) %>%
  top_n(10) %>% 
  mutate(Frequency = formattable::percent(Count/ sum(Count))) %>% 
  arrange(desc(Frequency)) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency),
         ordered_FOR = reorder(FoR_Modified,-Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=ordered_FOR)) +
    geom_rect() +
    geom_label( x=3.5, aes(y=labelposition, label=label), size=c(3,3,3,3,3,3,3,3,2.5,2.5), show.legend = FALSE, color=c(1,1,1,1,1,1,"white","white","white",1)) +
    # geom_text( x=3.5, aes(y=labelposition, label=label), size=4.5) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(1, 4)) +
    theme_void() +
    theme(legend.position = "right") +
  guides(fill = guide_legend(title = "FoR code"))
```

The number of attendees in each FOR code has been increasing each year since 2016, as shown in Figure 13. This is encouraging as it means growth in one discipline area is not coming at the cost of other areas and that all disciplines have a growing need for digital research skills training.  In 2021, Biomedical and Clinical Sciences had the fourth largest number of attendees with almost all attendees participating in courses on REDCap and R programming. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per FoR code per year', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(year, FoR_Modified) %>%
  count() %>%
  filter(FoR_Modified != "#N/A") %>%
  filter(FoR_Modified != "") %>% 
  drop_na() %>%
  arrange(year,desc(n)) %>% 
  group_by(year) %>%
  slice_max(order_by = n, n = 8) %>%
  mutate(FoR_Modified = factor(FoR_Modified, levels=FoR_Modified),
         # ordered_FoR = reorder(FoR_Modified,n)
         ) %>% 
  ggplot() +
  geom_bar(aes(x = year, y = n, fill = FoR_Modified, group = n),
           stat = 'identity',
           width = 0.7) +
  scale_fill_viridis(name="FOR code",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 6000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  # scale_x_discrete(
  #   breaks = seq(2016, 2021, 1)
  # ) +
  guides(fill = guide_legend(reverse = TRUE))
```

Figure \@ref(fig:attendee-per-tool-role) presents the attendance breakdown by Role/Position for each Tool/Technology. As expected, HDR PhD students were the main attendees for all courses, regardless of the tool or technology,  while postdoctoral researchers and fellows were generally the second largest cohort, except for tools and technologies that are related to data management, surveying, qualitative analysis, and statistics. These include Research Data Management Techniques (RDMT), Web Scraping, Tableau, SPSS, REDCap, Qualtrics, and NVivo, where academic staff formed the second largest cohort.

```{r attendee-per-tool-role, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per tool/technology by role', echo = FALSE}

### <------ NEED TO DO: There are two Nvivo entries and an empty tool!

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(Tool.Technology,Role_Modified) %>%
  count() %>%
  filter(Tool.Technology != "#N/A") %>%
  filter(Tool.Technology != "") %>% 
  drop_na() %>%
  arrange(desc(n)) %>% 
  group_by(Tool.Technology) %>%
  # slice_max(order_by = n, n = 6) %>%
  mutate(Role_Modified = factor(Role_Modified, levels=Role_Modified)) %>% 
  mutate(Tool.Technology = replace(Tool.Technology, Tool.Technology == "Nvivo", "NVivo")) %>% 
  ggplot() +
  geom_bar(aes(x = Tool.Technology, y = n, fill = Role_Modified, group = n),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Role/Position",discrete = TRUE, option="viridis", labels = function(x) str_wrap(x, width = 35)) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  coord_flip()
```

Figure \@ref(fig:attendee-per-tool-faculty) presents the attendance breakdown by Faculty for each Tool/Technology. It is worth noting that there is an increased uptake of NVivo and Qualtrics, as well as Tableau, SPSS, and Web Scraping courses, by the Faculty of Arts and Social Sciences, in comparison to the other faculties. 
In terms of the surveying tools, REDCap attracted more attendees from the Faculty of Medicine and Health, followed by the Faculty of Science. On the other hand, the attendance at Qualtrics courses was almost equally distributed across the Faculty of Medicine and Health and the Faculty of Arts and Social Sciences. In addition, a high number of participants from Business School (~25%) attended Qualtrics courses. 
Regarding programming courses, Python showed a different distribution compared to R. A vast majority of Python course attendees were from the Faculty of Science and Faculty of Engineering whilst researchers from the Faculty of Medicine and Health and the Faculty of Science were more interested in learning R. Lastly, attendees from the Faculty of Law were attracted by the courses on data analysis and surveying, e.g., Excel, NVivo, REDCap, and Qualtrics. 

```{r attendee-per-tool-faculty, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per tool/technology by faculty', echo = FALSE}

### <------ NEED TO DO: There are two Nvivo entries and an empty tool!

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(Tool.Technology,Faculty_Modified) %>%
  count() %>%
  filter(Tool.Technology != "#N/A") %>%  
  filter(Faculty_Modified != "#N/A") %>%
  drop_na() %>%
  filter(Tool.Technology != "") %>% 
  arrange(desc(n)) %>% 
  group_by(Tool.Technology) %>%
  # slice_max(order_by = n, n = 6) %>%
  mutate(Faculty_Modified = factor(Faculty_Modified, levels=Faculty_Modified),
         Faculty_Modified = as.factor(fct_recode(Faculty_Modified,
                                    "Medicine and Health"="Faculty of Medicine and Health",
                                    "Engineering"="Faculty of Engineering",
                                    "Arts & Social Sciences"="Faculty of Arts and Social Sciences",
                                    "Law"="Faculty of Law",
                                    "Science"="Faculty of Science",
                                    "Architecture, Design & Planning"="Faculty of Architecture, Design and Planning",
                                    "Other"=""))
         ) %>% 
  mutate(Tool.Technology = replace(Tool.Technology, Tool.Technology == "Nvivo", "NVivo")) %>% 
  ggplot() +
  geom_bar(aes(x = Tool.Technology, y = n, fill = Faculty_Modified, group = n),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Faculty",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  coord_flip()

```

According to Figure \@ref(fig:attendee-per-role-faculty) (Role/Position breakdown per Faculty), 50% or more of the attendees for all faculties were HDR PhD students. Regarding the three faculties with the highest number of attendees, (the Faculty of Medicine and Health, the Faculty of Science, and the Faculty of Engineering), the postdoctoral researcher and fellow cohort was the second largest grouping of attendees. However, significantly more academics than postdoctoral researchers and fellows from the Faculty of Law, the Faculty of Arts and Social Sciences, the Faculty of Architecture, Design and Planning, and the Business School attended the courses. 

```{r attendee-per-role-faculty, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per role by faculty', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(Faculty_Modified,Role_Modified) %>%
  count() %>%
  filter(Role_Modified != "#N/A") %>%  
  filter(Faculty_Modified != "#N/A") %>%
  drop_na() %>%
  arrange(desc(n)) %>% 
  group_by(Faculty_Modified) %>%
  # slice_max(order_by = n, n = 6) %>%
  mutate(Role_Modified = factor(Role_Modified, levels=Role_Modified),
          Faculty_Modified = as.factor(fct_recode(Faculty_Modified,
                                    "Medicine and Health"="Faculty of Medicine and Health",
                                    "Engineering"="Faculty of Engineering",
                                    "Arts & Social Sciences"="Faculty of Arts and Social Sciences",
                                    "Law"="Faculty of Law",
                                    "Science"="Faculty of Science",
                                    "Architecture, Design & Planning"="Faculty of Architecture, Design and Planning",
                                    "Other"="")
                                    )) %>% 
  ggplot() +
  geom_bar(aes(x = Faculty_Modified, y = n, fill = Role_Modified, group = n),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Role/Position",discrete = TRUE, option="viridis", labels = function(x) str_wrap(x, width = 35)) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  coord_flip()
```

Figure \@ref(fig:attendee-per-faculty-competency) presents the distribution of attendance across the competency level of the training courses as broken down by Faculty. It is important to mention that the number of Introductory courses offered in Intersect’s course catalogue is much higher than Intermediate and Advanced level courses. More attendees from the Faculty of Engineering (over 25%) favoured intermediate and advanced courses, in comparison to all other faculties. On the other hand, researchers from the Faculty of Law and the Faculty of Arts and Social Sciences, show the lowest percentage of intermediate level attendance among all faculties. 

```{r attendee-per-faculty-competency, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per faculty by course competency (difficulty)', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(Faculty_Modified, Level) %>%
  count() %>%
  filter(Faculty_Modified != "#N/A") %>%  
  filter(Level != "#N/A") %>%
  drop_na() %>%
  arrange(desc(n)) %>% 
  group_by(Faculty_Modified) %>%
  # slice_max(order_by = n, n = 6) %>%
  mutate(Level = factor(Level, levels=Level),
         Faculty_Modified = as.factor(fct_recode(Faculty_Modified,
                                    "Medicine and Health"="Faculty of Medicine and Health",
                                    "Engineering"="Faculty of Engineering",
                                    "Arts & Social Sciences"="Faculty of Arts and Social Sciences",
                                    "Law"="Faculty of Law",
                                    "Science"="Faculty of Science",
                                    "Architecture, Design & Planning"="Faculty of Architecture, Design and Planning",
                                    "Other"=""))
         ) %>% 
  ggplot() +
  geom_bar(aes(x = Faculty_Modified, y = n, fill = Level, group = n),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Course level",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  coord_flip()
```

Figure \@ref(fig:attendee-per-state-year) shows the trend of attendee numbers (only research-related roles were considered in this plot) by state since 2016. Prior to 2019, the majority of attendees were affiliated with an institution in New South Wales, Australia. However, as Intersect expanded its presence in other states, there is an increased uptake of Intersect training courses in other states, such as Victoria, South Australia, and Australian Capital Territory, throughout the years. In 2020, nearly 4,500 research-related attendees joined Intersect courses, almost 2,000 higher than the previous year. The same trend continued in 2021, with an additional 1,500 research related attendees being trained. One potential reason for this significant lift, may be that online training is more accessible to researchers and research professionals who are not based at main university campuses. Flexibility in terms of time commitment could be another factor as it is easier to commit two half-days online rather than a full day in person. Furthermore, digital research skills are increasingly becoming an integral part of every research workflow and therefore more researchers need to develop skills to address the challenges they might face in a data-intensive world. 

```{r attendee-per-state-year, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attendees per State per year', echo = FALSE}

Attendees_researchers %>%
  filter(status == "Checked In") %>% 
  group_by(year, State) %>%
  count() %>%
  filter(State != "#N/A") %>%
  drop_na() %>%
  arrange(year,desc(n)) %>% 
  group_by(year) %>%
  slice_max(order_by = n, n = 8) %>%
  mutate(State = factor(State, levels=State)) %>% 
  ggplot() +
  geom_bar(aes(x = year, y = n, fill = State, group = n),
           stat = 'identity',
           width = 0.7) +
  scale_fill_viridis(discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Year",
       y = "Number of attendees") +
  scale_y_continuous(
    limits = c(0, 6000),
    expand = c(0.05, 0.05),
    breaks = seq(0, 6000, 1000),
    minor_breaks = seq(0, 10000, 500)
  ) +
  # scale_x_discrete(
  #   breaks = seq(2016, 2021, 1)
  # ) +
  guides(fill = guide_legend(reverse = TRUE))

```

Figure \@ref(fig:reason) summarises the reasons for attending an Intersect training course. The majority of participants indicated their interest in the courses lay  in learning skills that they can apply to their work, either now or in the future. About 12% of the attendees chose to learn these skills with the goal of securing better opportunities and employability in the future (“To learn skills that will help me get a job”). 

```{r reason, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Reasons for being interested in attending the training', echo = FALSE}

reason_clean %>%
  filter(reason != "") %>% 
  group_by(reason) %>%
  summarise(Count=n()) %>% 
  # Combine last two categories
  mutate("Count_new" = ifelse(reason %in% c("undefined", "Other"), sum(Count[reason %in% c("undefined", "Other")]),Count)) %>% 
  filter(reason!="undefined") %>% 
  select(-Count) %>% 
  mutate(Frequency = formattable::percent(Count_new/ sum(Count_new))) %>% 
  arrange(desc(Frequency)) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency),
         ordered_reason = reorder(reason, -Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=ordered_reason)) +
    geom_rect() +
    #geom_label( x=3.5, aes(y=labelposition, label=label), size=3, show.legend = FALSE, color=1) +
    geom_text( x=3.5, aes(y=labelposition, label=label), size=3.5, check_overlap = TRUE) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(1, 4)) +
    theme_void() +
    theme(legend.position = "right")+
  guides(fill = guide_legend(title = "Reason"))
```

Figures \@ref(fig:reason-by-role) and \@ref(fig:reason-by-faculty) below demonstrate the reasons for attending the course by Role/Position and Faculty, respectively. The percentage of participants who learn skills for current and future work is higher among Academics, Post-docs, and Professional staff compared to HDR students. HDR students also learn these skills for better opportunities in the future. Analysis on the reason for being interested in attending Intersect training course by the Faculty reveals a consistent trend across all faculties. 

```{r reason-by-role, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Reasons for being interested in attending the training by role', echo = FALSE}

reason_by_role <- reason_clean %>%
  filter(Role_Modified != "#N/A") %>%
  group_by(reason, Role_Modified) %>%
  drop_na() %>%
  summarise(Count = n()) %>%
  group_by(Role_Modified) %>% 
  arrange(Count) %>% 
  # slice_max(order_by = desc(Count), n=6) %>%
  mutate(Role_Modified = factor(Role_Modified, levels=unique(Role_Modified))) %>% 
  mutate("Count_new" = ifelse(reason %in% c("undefined", "Other"), sum(Count[reason %in% c("undefined", "Other")]),Count)) %>% 
  filter(reason!="undefined") %>% 
  filter(reason!="") %>% 
  select(-Count) %>% 
  mutate(reason = factor(reason,levels = reason))
  
reason_by_role %>% 
  ggplot() +
  # ordered by count per role/position
  geom_bar(aes(x = reorder(Role_Modified,Count_new,FUN=sum), y = Count_new, fill = reason),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Role/Position",discrete = TRUE, option="viridis", labels = function(x) str_wrap(x, width = 35)) + # wrap legend
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    legend.spacing.y = unit(2.0, 'mm'), # increase spacing in legend
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) + 
  guides(fill = guide_legend(byrow = TRUE, reverse = TRUE)) + # increase spacing in legend and reverse!
  labs(x = "Role/Position",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20)) + # wrap X text
  coord_flip()
```

```{r reason-by-faculty, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Reasons for being interested in attending the training by faculty', echo = FALSE}

reason_by_faculty <- reason_clean %>%
  filter(Faculty_Modified != "#N/A") %>%
  filter(Faculty_Modified != "") %>% 
  group_by(reason, Faculty_Modified) %>%
  drop_na() %>%
  summarise(Count = n()) %>%
  group_by(Faculty_Modified) %>%
  arrange(Count) %>% 
  # slice_max(order_by = desc(Count), n = 6) %>%
  mutate(
    Faculty_Short = case_when(
      Faculty_Modified == "Faculty of Medicine and Health" ~ "Medicine and Health",
      Faculty_Modified == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
      Faculty_Modified == "Faculty of Engineering" ~ "Engineering",
      Faculty_Modified == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
      Faculty_Modified == "Faculty of Law" ~ "Law",
      Faculty_Modified == "Faculty of Science" ~ "Science",
      Faculty_Modified == "Business School" ~ "Business"
    )
  )  %>% 
  mutate("Count_new" = ifelse(reason %in% c("undefined", "Other"), sum(Count[reason %in% c("undefined", "Other")]),Count)) %>% 
  filter(reason!="undefined") %>% 
  filter(reason!="") %>% 
  select(-Count) %>% 
  mutate(reason = factor(reason,levels = reason))
  
reason_by_faculty %>%   
  ggplot() +
  # ordered by count per faculty
  geom_bar(aes(x = reorder(Faculty_Short,Count_new,FUN=sum), y = Count_new, fill = reason),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Role/Position",discrete = TRUE, option="viridis", labels = function(x) str_wrap(x, width = 35)) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(byrow = TRUE,reverse = TRUE)) +
  coord_flip()
```

The following graphs illustrate the channel through which participants learn about Intersect training courses. 26% of the participants discover the Intersect training program through their Faculty or School newsletter. The second most common channel for awareness is via the Research office/division (website/email) with \~16% of participants hearing about the course through this channel. This is followed by the University newsletter and University website. A considerable number of participants learn about these courses through their supervisors (\~7%). 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='How did participants hear about the course?', echo = FALSE}

hear_clean %>%
  group_by(hear_about_course) %>%
  filter(hear_about_course!="") %>% 
  summarise(Count=n())%>%
  mutate(Frequency = formattable::percent(Count/ sum(Count))) %>% 
  arrange(desc(Frequency)) %>% 
  top_n(8) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency),
         ordered_hear = reorder(hear_about_course,-Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=ordered_hear)) +
    geom_rect() +
    geom_label( x=3.5, aes(y=labelposition, label=label), size=3.5, show.legend = FALSE, color=c(1,1,1,1,1,1,"white","white")) +
    # geom_text( x=3.5, aes(y=labelposition, label=label), size=4.5) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(1, 4)) +
    theme_void() +
    theme(legend.position = "right") +
  guides(fill = guide_legend(title = "Communication"))
```

Figures \@ref(fig:hear-by-role) and \@ref(fig:hear-by-faculty) show further analysis of the communication methods by Role/Position and Faculty, respectively. Faculty/School newsletter, Research office/division (website/email), and University newsletter were the major sources from which researchers acquired the training information. It is also interesting to note that more than 10% of HDR Masters students and Professional staff (research-related) heard about the courses from their supervisors. The distribution in the communication channels  shows a consistent trend across all faculties. It is, however, interesting to notice that among the Business School attendees, a Supervisor is distinctly less likely to be the source of information regarding Intersect training courses. This is most likely due to a smaller cohort of PhD HDR students among attendees from this Faculty (see Figure 15).

```{r hear-by-role, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='How did participants hear about the course by role?', echo = FALSE}

hear_by_role <- hear_clean %>%
  # select(hear_about_course,Role_Modified) %>% 
  filter(Role_Modified != "#N/A") %>%
  filter(hear_about_course != "") %>% 
  group_by(hear_about_course, Role_Modified) %>%
  drop_na() %>%
  summarise(Count = n()) %>%
  group_by(Role_Modified) %>% 
  slice_max(order_by = Count, n=8) %>%
  mutate(Role_Modified = factor(Role_Modified, levels=unique(Role_Modified))) %>% 
  mutate(hear_about_course = factor(hear_about_course,levels = hear_about_course))
  
hear_by_role %>%   
  ggplot() +
  # ordered by count per role/position
  geom_bar(aes(x = reorder(Role_Modified,Count,FUN=sum), y = Count, fill = hear_about_course),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Communication",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20)) + 
  # guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()

```

```{r hear-by-faculty, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='How did participants hear about the course by faculty?', echo = FALSE}

hear_by_faculty <- hear_clean %>%
  filter(Faculty_Modified != "#N/A") %>%
  filter(Faculty_Modified != "") %>% 
  filter(hear_about_course != "") %>% 
  group_by(hear_about_course, Faculty_Modified) %>%
  drop_na() %>%
  summarise(Count = n()) %>%
  group_by(Faculty_Modified) %>%
  slice_max(order_by = Count, n = 7) %>%
  mutate(
    Faculty_Short = case_when(
      Faculty_Modified == "Faculty of Medicine and Health" ~ "Medicine and Health",
      Faculty_Modified == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
      Faculty_Modified == "Faculty of Engineering" ~ "Engineering",
      Faculty_Modified == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
      Faculty_Modified == "Faculty of Law" ~ "Law",
      Faculty_Modified == "Faculty of Science" ~ "Science",
      Faculty_Modified == "Business School" ~ "Business"
    )
  ) %>% 
  mutate(hear_about_course = factor(hear_about_course,levels = hear_about_course))
  
hear_by_faculty %>%   
  ggplot() +
  # ordered by count per faculty
  geom_bar(aes(x = reorder(Faculty_Short,Count,FUN=sum), y = Count, fill = hear_about_course),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_viridis(name="Communication",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    # text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of attendees") +
  scale_y_continuous(labels = scales::percent_format()) +
  coord_flip()
```

Figure \@ref(fig:return) shows the distribution of the number of times that the same participant has attended various Intersect training courses. Around 65% of the participants attended an Intersect training course once. It is encouraging to see one out of three participants returning to attend another Intersect training course. Nearly 20% have attended two courses, followed by approximately 8% who have attended three, and 3.5% have attended four courses. Approximately 4% of the total number of attendees have participated in the training program 5 times or more. 

```{r return, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of times that the same attendee returned to a course', echo = FALSE}
# Group by email to get # of returns
# # Group by number of returns to get # of attendees with same # of returns
return_to_course <- Attendees_researchers %>% 
  filter(status == "Checked In") %>%
  select(year, email, Faculty_Modified, Role_Modified, FoR_Modified) %>% 
  group_by(email) %>% 
  count() %>%
  arrange(desc(n)) %>% 
  group_by(n) %>% 
  summarise(Count = n())

# Aggregate 10+ returns
# Show as %
return_to_course_percent <- return_to_course %>% 
  top_n(9) %>% 
  rbind(c(10,sum(return_to_course[which(return_to_course$n>=10),2]))) %>% 
  mutate(freq = formattable::percent(Count / sum(Count))) %>% 
  arrange(n)

# Plot
# top_n(10) %>% 
  ggplot(return_to_course_percent)+
  geom_bar(aes(x=n, y=freq),
           stat = 'identity',
           fill = intersect_color1) +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  scale_y_continuous(
    limits = c(0, 1),
    expand = c(0.05, 0.05),
    breaks = seq(0, 1, 0.2),
    minor_breaks = seq(0, 1, 0.1),
    labels = scales::percent) +
  scale_x_continuous(
    breaks = seq(1, 10, 1),
    labels = append(as.character(seq(1,9,1)),"10+")
  )+
  labs(x = "Return to a course",
       y = "Percentage of attendees") +
  geom_text(aes(x=n, y=freq,label=freq),vjust=-0.25)
```

The number of times an attendee returned to a course was further split by Role and Faculty, respectively. As seen from the boxplots shown in Figure \@ref(fig:return-by-role), the frequencies between 2016 and 2018 were almost consistent, with a slight shift to higher numbers of courses observed for both HDR PhD students and Professional (research-related) staff. From 2019 and onwards, the frequencies of returning to a course increased significantly for all roles/positions. In particular, the HDR PhD students and Academics were more interested in attending several Intersect training courses with most of the returning attendees joining courses at least 4 times. 

```{r return-by-role, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of times that the same attendee returned to a course by role ', echo = FALSE}
### Return to a course
Group_Attendees_researchers_role <- Attendees_researchers %>% 
  filter(status == "Checked In") %>%
  select(year, email, Faculty_Modified, Role_Modified) %>% 
  group_by(email,Faculty_Modified, Role_Modified,year) %>% 
  count() %>%
  arrange(desc(n)) %>% 
  group_by(n, Role_Modified, year) %>% 
  summarise(Count=n()) %>% 
  arrange(desc(n)) %>% 
  mutate(Role_Modified = factor(Role_Modified, levels=unique(Role_Modified)))

# rename factors
levels(Group_Attendees_researchers_role$Role_Modified) <-
  list(
    "HDR (PhD)" = "Higher Degree Research Student (PhD)",
    "Academic" = "Academic",
    "HDR (Masters)" =
      "Higher Degree Research Student (Masters)",
    "Post-doc/Fellow" =
      "Post-doc / Fellow",
    "Professional (research-related)" =
      "Professional (research-related)"
  )

# Boxplot
Group_Attendees_researchers_role %>%
  ggplot() +
  geom_boxplot(aes(
    x = reorder(Role_Modified, n, FUN = median),
    y = n,
    fill = Role_Modified,
  )) +
  theme_bw() +
  theme(
    legend.position = "none",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato"),
    strip.text = element_text(size=13)
  ) +
  labs(x = "",
       y = "Return to a course")+
  coord_flip() + 
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20)) +
  scale_y_continuous(
    breaks = seq(0, 16, 2))+
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  facet_wrap( ~ year)
```

Figure \@ref(fig:return-by-faculty) below shows the distribution of returning participants  to a course for each faculty. In terms of the top three faculties with the highest number of attendees (Science, Medicine and Health, Engineering), all have had a steady increase of the return frequencies, with the median number of courses attended by a participant rising from around three in 2016 to six in 2021. In terms of the rest of the faculties, the number of returns to a course remained largely unchanged until 2019. However, with the introduction of online training delivery and targeted communication, the Faculty of Arts and Social Sciences, the Business School, and the Faculty of Architecture, Design & Planning had a significant increase in return frequencies from 2020 onwards. It is worth noting that the median number of returns to the course by attendees from Faculty of Arts and Social Sciences was nearly six, the highest among all faculties, in 2020. Even though the Faculty of Law did not have a similar distribution in the number of returns to a course as the other faculties, it is clear that more attendees from Law had returned to Intersect courses multiple times in recent years.

```{r return-by-faculty, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Number of times that the same attendee returned to a course by faculty', echo = FALSE}
### Return to a course
Group_Attendees_researchers_faculty <- Attendees_researchers %>%
  filter(status == "Checked In") %>%
  select(year, email, Faculty_Modified, Role_Modified) %>%
  group_by(email, Faculty_Modified, Role_Modified, year) %>%
  drop_na(Faculty_Modified) %>%
  filter(Faculty_Modified != "#N/A") %>%
  filter(Faculty_Modified != "") %>% 
  count() %>%
  arrange(desc(n)) %>%
  group_by(n, Faculty_Modified, year) %>%
  summarise(Count = n()) %>%
  arrange(desc(n)) %>% 
  # mutate(Faculty_Modified = factor(Faculty_Modified, levels = Faculty_Modified))
  # rename faculty name
  mutate(Faculty_Short = case_when(
    Faculty_Modified == "Faculty of Medicine and Health" ~ "Medicine and Health",
    Faculty_Modified == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
    Faculty_Modified == "Faculty of Engineering" ~ "Engineering",
    Faculty_Modified == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
    Faculty_Modified == "Faculty of Law" ~ "Law",
    Faculty_Modified == "Faculty of Science" ~ "Science",
    Faculty_Modified == "Business School" ~ "Business"
  ))

# Rename factors
# levels(Group_Attendees_researchers_faculty$Faculty_Modified) <-
#   list(
#     "Medicine and Health" = "Faculty of Medicine and Health",
#     "Engineering" =
#       "Faculty of Engineering",
#     "Arts & Social Sciences" =
#       "Faculty of Arts and Social Sciences",
#     "Law" =
#       "Faculty of Law",
#     "Science" =
#       "Faculty of Science",
#     "Architecture, Design & Planning" =
#       "Faculty of Architecture, Design and Planning",
#     "Business" = "Business School"
#   )

# Boxplot
Group_Attendees_researchers_faculty %>%
  ggplot(aes(
    x = reorder(Faculty_Short, n, FUN = median),
    # ordered by median, desc
    y = n,
    fill = Faculty_Short
  )) +
  geom_boxplot() +
  theme_bw() +
  theme(
    legend.position = "none",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    # axis.text.x = element_text(size = 10),
    text = element_text(family = "Lato"),
    strip.text = element_text(size=13),
    panel.spacing.x = unit(6, "mm")
  ) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  scale_y_continuous(breaks = seq(0, 16, 2)) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 30)) +
  labs(x = "",
       y = "Return to a course") +
  coord_flip() +
  facet_wrap(~ year)
  
# JZ comments: 
# - order has been changed after facet_wrap?
```

# Training Impact

Data Science skills are, increasingly, an integral part of research and required to build a deeper understanding of research data. However, many researchers face a growing knowledge gap in these skills. The 2021 National Research Infrastructure Roadmap mentions that “Rapid advances in computing techniques and analysis, and management of large and complex datasets, have resulted in **researchers no longer having sufficient expertise in data management, computational and analysis techniques.**" Hence, there is a pressing unmet need and demand for building the skills and capability of the research workforce in the use of cutting edge digital tools and technologies. 

Intersect has, for many years, successfully and extensively captured and reported on short-term impact in the form of participant feedback, satisfaction, and training quality metrics. However, determining long-term behavioural change and impact on Higher Degree Research (HDR) students, researchers, and staff is more challenging. To this end, Intersect has developed a survey to assess the long-term impact of our digital skills training on researchers. In addition, we also sought to gain insights into three other key areas of interest: 1) the relationship between training and support structures at universities; 2) the link between training and research outputs and grants; and 3) the comparison between live workshops and self paced learning. This survey is now embedded into Intersect’s operational processes, and sent biannually to all member university researchers and staff who attended our training in the year prior. To date, Intersect has received 1160 responses from research related roles across 13 universities in Australia who attended Intersect training one year prior to receiving the survey. 

## Demographics of training impact

HDR (PhD) students are the largest cohort by role to respond to the training impact survey with approximately 64% of responses coming from this cohort, followed by Academics (approximately 16%) and Post-docs (approximately 13%). This is unsurprising given the relatively large proportion of training attendees from these cohorts. 

```{r, message = FALSE, warning = FALSE, out.height='25%', fig.align='center', fig.cap='Responses by role', echo = FALSE}

Only_Responses %>%
  group_by(Role) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(Role = as.factor(
    fct_recode(
      Role,
      "HDR (PhD)" = "Higher Degree Research Student (PhD)",
      "HDR (Masters)" = "Higher Degree Research Student (Masters)"
    ))) %>% 
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = Frequency,
    ordered_role = reorder(Role, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_role
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=c(4,4,4,3.5,3,3,2,0), show.legend = FALSE, color=c(1,1,1,1,1,"white","white","white"),label.size = 0) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 4, 3.5),
    color = c("white", "white", "white", "white", "white")
  ) +
  #scale_fill_brewer(palette = 4) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
    )+
  guides(fill = guide_legend(title = "Role"))
```

The Faculty of Medicine and Health is the largest faculty group to respond to the training impact survey (approx. 38%). This group comprises all Medicine and Health faculties, such as Public Health and Psychology. The second largest response group is the Faculty of Science (approx. 27%), followed by the Faculty of Engineering and Faculty of Arts and Social Science that had a similar number of responses with 11.5% and 11.2%, respectively. 

```{r, message = FALSE, warning = FALSE, out.height='25%', fig.align='center', fig.cap='Responses by faculty', echo = FALSE}

Only_Responses %>%
  group_by(faculty) %>%
  drop_na(faculty) %>%
  summarise(Count = n()) %>%
  mutate(faculty = as.factor(fct_recode(faculty,
                                    "Medicine and Health"="Faculty of Medicine and Health",
                                    "Engineering"="Faculty of Engineering",
                                    "Arts & Social Sciences"="Faculty of Arts and Social Sciences",
                                    "Law"="Faculty of Law",
                                    "Science"="Faculty of Science",
                                    "Architecture, Design & Planning"="Faculty of Architecture, Design and Planning",
                                    "Other"=""))) %>% 
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = Frequency,
    ordered_faculty = reorder(faculty, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_faculty
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=c(4,4,4,3.5,3,3,2,0), show.legend = FALSE, color=c(1,1,1,1,1,"white","white","white"),label.size = 0) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 5, 3, 3, 2, 2),
    color = c("white", "white", "white", "white", "white", "white", 1, 1)
  ) +
  #scale_fill_brewer(palette = 4) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")) +
  guides(fill = guide_legend(title = "Faculty"))
```

In the following figure, only the top 10 Field of Research (FOR) codes are shown. Health Sciences was  the largest Field of Research (FOR) group to respond to the training impact survey with about 40%. A similar number of responses was observed from each of Engineering, Psychology, and Biological Sciences, with percentages between 8.5% and 10.5%. 

```{r, message = FALSE, warning = FALSE, out.height='25%', fig.align='center', fig.cap='Responses by FoR code', echo = FALSE}

Only_Responses %>%
  group_by(for_code) %>%
  drop_na(for_code) %>%
  summarise(Count = n()) %>%
  top_n(10) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = Frequency,
    ordered_for = reorder(for_code, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_for
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=c(4,4,4,3.5,3,3,2,0), show.legend = FALSE, color=c(1,1,1,1,1,"white","white","white"),label.size = 0) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 5, 5, 4, 4, 4, 3, 3),
    color = c("white", "white", "white", "white", "white", "white", "white", 1, 1, 1)
  ) +
  #scale_fill_brewer(palette=4) +
  scale_fill_viridis(discrete = TRUE, option = "viridis", labels = function(x) str_wrap(x, width = 28)) +
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato"),
    legend.spacing.y  = unit(2, "mm")) +
  guides(fill = guide_legend(title = "FOR Code", byrow = TRUE))
```

As for the tool/technology, the most frequent research tool/technology associated with responses to the training impact survey was R. This tool had substantially more responses, at 28%, than the next most frequently reported tool. Researchers who attended Python courses were the second largest group to respond to the training impact survey (approx. 19%) followed by Excel (approx. 14%), Qualtrics (approx. 10%), REDCap (approx. 9%), NVivo (approx.6%), and SPSS (approx. 5%). 

```{r, message = FALSE, warning = FALSE, out.height='25%', fig.align='center', fig.cap='Responses by tool/technology', echo = FALSE}

Only_Responses %>%
  group_by(Technology) %>%
  drop_na(Technology) %>%
  summarise(Count = n()) %>%
  top_n(10) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = Frequency,
    ordered_technology = reorder(Technology, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_technology
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=c(4,4,4,3.5,3,3,2,0), show.legend = FALSE, color=c(1,1,1,1,1,"white","white","white"),label.size = 0) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    size = c(5, 5, 5, 5, 5, 5, 5, 3, 2, 2),
    color = c("white", "white", "white", "white", "white", "white", "white", "white", 1, 1)
  ) +
  scale_fill_viridis(discrete = TRUE, option="viridis")+
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  guides(fill = guide_legend(title = "Tool/Technology"))
```

## Kirkpatrick's metrics

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='...', echo = FALSE}

worthwhile_plot <- Only_Responses %>%
  filter(reaction_corrected != "#N/A") %>%
  group_by(reaction_corrected) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(reaction_corrected)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency),
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = reaction_corrected
  )) +
  geom_rect() +
  #geom_label( x=3.5, aes(y=labelposition, label=label), size=3.5, show.legend = FALSE) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    check_overlap = TRUE,
    color = c("white", "white", "white", 1, 1),
    size = c(2.5, 2.5, 2.5, 0, 2.5)
  ) +
  labs(
    title = "Reaction",
    subtitle = str_wrap(
      "The degree to which participants find the training worthwhile and relevant to their work.",
      60
    ),
    caption = str_wrap("Do you feel that attending the course was worthwhile to you?", 60)
  ) +
  #scale_fill_brewer(palette=4) +
  coord_polar(theta = "y") +
  xlim(c(2, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.title = element_blank(),
    legend.text = element_text(size = 8),
    plot.title = element_text(size = 11, face = "bold"),
    plot.subtitle = element_text(size = 8),
    plot.caption = element_text(size = 8, hjust = 0, face = "italic"),
    text = element_text(family = "Lato")
  )+
  scale_fill_viridis(discrete = TRUE, option = "viridis", direction = -1) +
  guides(fill = guide_legend(reverse = TRUE))
```

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='...', echo = FALSE}

frequency_plot <- Only_Responses %>% 
  filter(behaviour_corrected != "#N/A") %>%
  group_by(behaviour_corrected) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ sum(Count))) %>% 
  arrange(desc(behaviour_corrected)) %>% 
  top_n(10) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=behaviour_corrected)) +
    geom_rect() +
    # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
    geom_text( x=3.5, aes(y=labelposition, label=label), check_overlap = TRUE, color=c("white","white","white","white",1), size=c(2.5,2.5,2.5,2,0)) +
  labs(title ="Behaviour",
         subtitle = str_wrap("The frequency to which participants apply what they learnt during training on their work.",60),
         caption = str_wrap("How frequently were you able to apply [technology] in your research/work since the course?",60)
    ) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(2, 4)) +
    theme_void() +
     theme(legend.position = "right",
          legend.title = element_blank(),
          legend.text = element_text(size = 8),
          plot.title = element_text(size=11, face = "bold"),
          plot.subtitle = element_text(size=8),
          plot.caption = element_text(size=8,hjust = 0, face = "italic"),
          text = element_text(family = "Lato")
    )+
  scale_fill_viridis(discrete = TRUE, option = "viridis", direction = -1) +
  guides(fill = guide_legend(reverse = TRUE))
```

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='...', echo = FALSE}

apply_plot <- Only_Responses %>% 
  filter(learning_corrected != "#N/A") %>%
  group_by(learning_corrected) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ sum(Count))) %>% 
  arrange(desc(learning_corrected)) %>% 
  top_n(10) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=learning_corrected)) +
    geom_rect() +
    # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
    geom_text( x=3.5, aes(y=labelposition, label=label), check_overlap = TRUE, color=c("white","white","white",1,1), size=c(2.5,2.5,2.5,2,2)) +
    labs(title ="Learning",
         subtitle = str_wrap("The degree to which participants feel confident to use the acquired knowledge on their work.",60),
         caption = str_wrap("Do you feel more or less confident using [technology] since taking the course?",60)
    ) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(2, 4)) +
    theme_void() +
   theme(legend.position = "right",
          legend.title = element_blank(),
          legend.text = element_text(size = 8),
          plot.title = element_text(size=11, face = "bold"),
          plot.subtitle = element_text(size=8),
          plot.caption = element_text(size=8,hjust = 0, face = "italic"),
         text = element_text(family = "Lato")
    )+
  scale_fill_viridis(discrete = TRUE, option = "viridis", direction = -1) +
  guides(fill = guide_legend(reverse = TRUE))

```

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='...', echo = FALSE}

helpful_plot <- Only_Responses %>% 
  filter(results_corrected != "#N/A") %>%
  group_by(results_corrected) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ sum(Count))) %>% 
  arrange(desc(results_corrected)) %>% 
  top_n(10) %>% 
  mutate(ymax = cumsum(Frequency),
         ymin = c(0, head(ymax, n=-1)),
         labelposition = (ymax+ymin)/2,
         label = paste0(Frequency)) %>% 
  ggplot(aes(ymax=ymax, ymin=ymin, xmax=4, xmin=3, fill=results_corrected)) +
    geom_rect() +
    # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
    geom_text( x=3.5, aes(y=labelposition, label=label), check_overlap = TRUE, color=c("white","white","white",1,1), size=c(2.5,2.5,2,0,0)) +
    labs(title ="Results",
         subtitle = str_wrap("The degree to which participants find the technology and knowledge helpful to their work.",60),
         caption = str_wrap("To what extent has [technology] been helpful to your research/work?",60)
    ) +
    scale_fill_brewer(palette=4) +
    coord_polar(theta="y") +
    xlim(c(2, 4)) +
    theme_void() +
    theme(legend.position = "right",
          legend.title = element_blank(),
          legend.text = element_text(size = 8),
          plot.title = element_text(size=11, face = "bold"),
          plot.subtitle = element_text(size=8),
          plot.caption = element_text(size=8,hjust = 0, face = "italic"),
          text = element_text(family = "Lato")
    )+
  scale_fill_viridis(discrete = TRUE, option = "viridis", direction = -1) +
  guides(fill = guide_legend(reverse = TRUE))
```

Donald Kirkpatrick (1959) has discussed a model that evaluated how participants reacted to a training program with in higher education. The model has been revised and developed further, and become overwhelmingly popular for training evaluations (Kirkpatrick & Kirkpatrick, 2016). It assesses the effectiveness of a training program with a four-level approach:

1. The reaction level measures how well participants like about the training program. For this level, we asked “Do you feel that attending the course was worthwhile to you?”
2. The learning level determines how much the participants learned during the training. For this, we asked “Do you feel more or less confident using technology since taking the course?”
3. The behaviour level evaluates the changes in the behaviours of the participants as a result of the training program. For this, we asked “How frequently were you able to apply technology in your research/work since the course?”
4. The results level examines the outcomes which can be attributed to the training program. The outcomes might be the research outputs or productivity. For this, we asked “To what extent has technology been helpful to your research/work?” 


Figure \@ref(fig:Kirkpatrick) presents the responses from survey participants according to Kirkpatrick’s four levels of training education - Reaction, Learning, Behaviour, Results. 

Approximately 79% of respondents indicated that the training course they attended was either “very worthwhile” or “extremely worthwhile. This demonstrates  that the majority of attendees considered attending an Intersect course to be a valuable use of their time. 

Approximately 80% of respondents have continued to use the research tool they learnt about during their training course at least “sometimes”, with ~52% of attendees using the tool “often” or “frequently” following the course. This suggests that attendees feel comfortable using the tool and are subsequently applying what they have learned during the training course in their research. 

Over 86% of survey respondents indicated that they feel “more” or “much more” confident using the research tool than they did prior to attending the training course. This indicates a good understanding of the content in a way that is applicable to those researchers' use cases, making them feel comfortable to apply the concepts and skills gained in the training course to their own research. 

Nearly 63% of survey respondents indicated that the training course they attended was “very” or “extremely” helpful in producing results of their analysis in subsequent research. 


```{r Kirkpatrick, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap="Kirkpatrick's four levels of training education", echo = FALSE}
# grid plot to include all four plots, e.g. worthwhile, frequency, apply, helpful

grid.arrange(worthwhile_plot, frequency_plot, apply_plot, helpful_plot,
             ncol=2, nrow=2)

```

### Reaction: Worthwhile

Interestingly, more than 35% of Post-doc attendees found their training course to be “extremely worthwhile” compared to other roles (\~30%). Apart from Masters attendees, at least 75% of attendees from all roles found their training course to be either “very” or “extremely” worthwhile. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Worthwhile - Reaction per role', echo = FALSE}

# Only_Responses$reaction_corrected <- as.factor(Only_Responses$reaction_corrected)

Only_Responses %>%
  group_by(reaction_corrected, Role) %>%
  count() %>%
  drop_na(reaction_corrected) %>%  
  arrange(desc(reaction_corrected)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(reaction_corrected = factor(reaction_corrected, levels=reaction_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = reaction_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  scale_fill_brewer(palette=4, name = "Worthwhile") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```
```{r Worthwhile - Reaction per role (boxplot), message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Worthwhile - Reaction per role', echo = FALSE}

####Average values / Boxplots for Section 3.2.1-3.2.4, 3.3####

Only_Responses %>%
  select(Technology, eRA_helpful2) %>% 
  drop_na(eRA_helpful2) %>% 
  group_by(Technology) %>% 
  summarise(med = mean(eRA_helpful2))


Only_Responses %>%
  # group_by(reaction_corrected, Role) %>%
  # count() %>%
  # drop_na(reaction_corrected) %>%  
  # arrange(desc(reaction_corrected)) %>% 
  # mutate(Role = factor(Role, levels=Role)) %>%
  # mutate(reaction_corrected = factor(reaction_corrected, levels=reaction_corrected)) %>%
  ggplot(aes(x = eRA_helpful2, y = Technology)) +
  geom_boxplot() +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  )
  # labs(x = "Role/Position",
  #      y = "Percentage of Responses") +
  # guides(fill = guide_legend(reverse = TRUE))

```

Over 75% of attendees from the Faculty of Medicine and Health found their training course to be “very” or “extremely” worthwhile. This is notable as nearly half of all survey respondents were from this faculty. Interestingly, just under 50% of attendees from the Faculty of Architecture, Design and Planning found their course to be “extremely worthwhile”, this proportion being more than any other faculty. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Worthwhile - Reaction per faculty', echo = FALSE}

# Only_Responses$reaction_corrected <- as.factor(Only_Responses$reaction_corrected)

Only_Responses %>%
  group_by(reaction_corrected, faculty) %>%
  count() %>%
  drop_na(faculty) %>%  
  drop_na(reaction_corrected) %>%  
  arrange(desc(reaction_corrected)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(reaction_corrected = factor(reaction_corrected, levels=reaction_corrected),
      Faculty_Short = case_when(
        faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
        faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
        faculty == "Faculty of Engineering" ~ "Engineering",
        faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
        faculty == "Faculty of Law" ~ "Law",
        faculty == "Faculty of Science" ~ "Science",
        faculty == "Business School" ~ "Business",
        faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
      )%>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = reaction_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Worthwhile") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

According to survey respondents, the courses that were most worthwhile (i.e. "very" or "extremely worthwhile") were REDCap (\~85%), Excel (\~85%), R (\~80%), Qualtrics (\~80%) and SPSS (\~80%). Note that the sample of respondents who attended the Tableau training course was very small, hence it is difficult to infer conclusions from their responses. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Worthwhile - Reaction per tool/technology', echo = FALSE}

# Only_Responses$reaction_corrected <- as.factor(Only_Responses$reaction_corrected)

Only_Responses %>%
  group_by(reaction_corrected, Technology) %>%
  count() %>%
  drop_na(Technology) %>%  
  drop_na(reaction_corrected) %>%  
  arrange(desc(reaction_corrected)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(reaction_corrected = factor(reaction_corrected, levels=reaction_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = reaction_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Worthwhile") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

### Behaviour: Frequency

Post doc attendees reported frequent use of the research technology of the course they attended in over 30% of cases, while over 60% of Professionals reported “frequent” or “often” use of their research technology. This is aligned with the fact that Post doc attendees found attendance at their training course to be “extremely worthwhile” in \~35% of cases, more than any other role. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Frequency - Behaviour per role', echo = FALSE}

Only_Responses %>%
  group_by(behaviour_corrected, Role) %>%
  count() %>%
  drop_na(behaviour_corrected) %>%  
  arrange(desc(behaviour_corrected)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(behaviour_corrected = factor(behaviour_corrected, levels=behaviour_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = behaviour_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Frequency") +
  # scale_fill_viridis(name="Frequency",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Attendees from the Faculty of Law and Faculty of Architecture, Design and Planning reported “frequent” use of the research technology from their training course in nearly 40% of cases. This suggests that they found the course content to be applicable to their work or studies and they felt comfortable applying this content to their specific projects. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Frequency - Behaviour per faculty', echo = FALSE}

Only_Responses %>%
  group_by(behaviour_corrected, faculty) %>%
  count() %>%
  drop_na(faculty) %>%  
  drop_na(behaviour_corrected) %>%  
  arrange(desc(behaviour_corrected)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(behaviour_corrected = factor(behaviour_corrected, levels=behaviour_corrected),
        Faculty_Short = case_when(
        faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
        faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
        faculty == "Faculty of Engineering" ~ "Engineering",
        faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
        faculty == "Faculty of Law" ~ "Law",
        faculty == "Faculty of Science" ~ "Science",
        faculty == "Business School" ~ "Business",
        faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
      ) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = behaviour_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Frequency") +
  # scale_fill_viridis(name="Frequency",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Over 35% of Excel and REDCap training course attendees reported “frequently” using this technology following the course, and nearly 75% of Excel course attendees reported they used the technology “frequently” or “often”. This highlights the applicability of the Excel for Researchers course and the direct relevance of the course content to a variety of research projects and use cases. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Frequency - Behaviour per tool/technology', echo = FALSE}

Only_Responses %>%
  group_by(behaviour_corrected, Technology) %>%
  count() %>%
  drop_na(Technology) %>%  
  drop_na(behaviour_corrected) %>%  
  arrange(desc(behaviour_corrected)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(behaviour_corrected = factor(behaviour_corrected, levels=behaviour_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = behaviour_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Frequency") +
  # scale_fill_viridis(name="Frequency",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

### Learning: Apply technology

More than 90% of Professional attendees reported that they felt more or much more confident using the technology after attending their training course. This was slightly higher than for  all other attendees (Post doc, HDRs, and Academics) where it was about 85%. This emphasises the utility of the formative assessments used by instructors during the course for attendees to test their knowledge and application of the content so that they feel comfortable using the technology outside of the training environment. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Apply technology - Learning per role', echo = FALSE}

Only_Responses %>%
  group_by(learning_corrected, Role) %>%
  count() %>%
  drop_na(learning_corrected) %>%  
  arrange(desc(learning_corrected)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(learning_corrected = factor(learning_corrected, levels=learning_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = learning_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Apply technology") +
  # scale_fill_viridis(name="Apply technology",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Faculty of Medicine and Health and Faculty of Engineering attendees reported the most confidence in applying the content of their training course to their use cases following training (\~35%). Close to 100% of Faculty of Engineering attendees reported being more confident in applying their knowledge subsequent to the training course. Attendees from all faculties reported being more confident in at least 75% of cases. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Apply technology - Learning per faculty', echo = FALSE}

Only_Responses %>%
  group_by(learning_corrected, faculty) %>%
  count() %>%
  drop_na(faculty) %>%  
  drop_na(learning_corrected) %>%  
  arrange(desc(learning_corrected)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(learning_corrected = factor(learning_corrected, levels=learning_corrected),
        Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
      ) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = learning_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Apply technology") +
  # scale_fill_viridis(name="Apply technology",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE)) +
  coord_flip()
```

Nearly 50% of attendees of REDCap and Qualtrics training courses reported being “much more confident” in using their chosen technology subsequent to training. At least 65% of attendees reported being more confident across all technologies taught in the training courses. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Apply technology - Learning per tool/technology', echo = FALSE}

Only_Responses %>%
  group_by(learning_corrected, Technology) %>%
  count() %>%
  drop_na(Technology) %>%  
  drop_na(learning_corrected) %>%  
  arrange(desc(learning_corrected)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(learning_corrected = factor(learning_corrected, levels=learning_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = learning_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Apply technology") +
  # scale_fill_viridis(name="Apply technology",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE)) +
  coord_flip()
```

### Results: Helpful

Professional attendees reported the training course to be “very” or “extremely” helpful in \~90% of cases. Over 65% of attendees across all roles reported the training course to be at least “very” helpful. This suggests the courses are a valuable investment of attendee time and assist them in their research projects following training. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Helpful - Results per role', echo = FALSE}

Only_Responses %>%
  group_by(results_corrected, Role) %>%
  count() %>%
  drop_na(results_corrected) %>%  
  arrange(desc(results_corrected)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(results_corrected = factor(results_corrected, levels=results_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = results_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name="Helpful") +
  # scale_fill_viridis(name="Helpful",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE)) +
  coord_flip()
```

With the exception of the Faculty of Arts and Social Sciences, attendees from all faculties reported their training course to be “very” or “extremely” helpful in the subsequent research projects following training. Close to 90% of attendees stated that the training course they attended was at least “somewhat helpful”. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Helpful - Results per faculty', echo = FALSE}

Only_Responses %>%
  group_by(results_corrected, faculty) %>%
  count() %>%
  drop_na(faculty) %>%  
  drop_na(results_corrected) %>%  
  arrange(desc(results_corrected)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(results_corrected = factor(results_corrected, levels=results_corrected),
          Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
      ) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = results_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4,name="Helpful") +
  # scale_fill_viridis(name="Helpful",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE)) +
  coord_flip()
```

Nearly 80% of Excel, REDCap, and Qualtrics training course attendees reported their course to be “very” or “extremely” helpful. This reflects the ubiquity of these research tools across a wide range of research fields, but also the applicability of content covered in these courses to equip attendees from diverse areas of expertise with skills for their specific research projects. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Helpful - Results per tool/technology', echo = FALSE}

Only_Responses %>%
  group_by(results_corrected, Technology) %>%
  count() %>%
  drop_na(Technology) %>%  
  drop_na(results_corrected) %>%  
  arrange(desc(results_corrected)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(results_corrected = factor(results_corrected, levels=results_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = results_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4,name="Helpful") +
  # scale_fill_viridis(name="Helpful",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE)) +
  coord_flip()
```

## Does access to training materials online inhibit attendance? 

Nearly 83% of attendees stated that they would probably or definitely still attend the course if they were provided with the course material prior to training. This highlights the value of the interactive nature of training, the instructor’s explanations of concepts, and the formative assessments throughout the course that cannot be achieved by working independently with the course notes. 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Attend if attendee had the material', echo = FALSE}

Only_Responses %>%
  filter(materials_only_corrected != "#N/A") %>%
  group_by(materials_only_corrected) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(materials_only_corrected)) %>%
  top_n(10) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = materials_only_corrected
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    size = c(4.5, 4.5, 4.5, 4, 4),
    check_overlap = TRUE,
    color = c("white", "white", "white", "white", 1)
  ) +
  # scale_fill_brewer(palette=4) +
  scale_fill_viridis(discrete = TRUE,
                     option = "viridis",
                     direction = -1) +
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  guides(fill = guide_legend(reverse = TRUE, title = "Attend if people had access to material"))
```

More than 50% of postdoctoral / fellow attendees stated that they would definitely still attend the course if they were provided with the course material prior to training. This suggests that attendees in that role highly valued the interactivity of the course, the examples, and the formative assessments used by instructors that are not included in the course material. Apart from Masters student attendees, over 80% of all attendees indicated that they would at least “probably” attend the course if they had the course materials. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attend if attendee had the material by role', echo = FALSE}

Only_Responses %>%
  group_by(materials_only_corrected, Role) %>%
  count() %>%
  drop_na(materials_only_corrected) %>%  
  arrange(desc(materials_only_corrected)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(materials_only_corrected = factor(materials_only_corrected, levels=materials_only_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = materials_only_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_viridis(name="Attend with open material",discrete = TRUE, option="viridis") +
  scale_fill_brewer(palette=4, name=paste("Attend if people had\n access to material")) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Faculty of Arts and Social Sciences and Faculty of Business attendees reported in over 75% of cases that they would attend the training course even if they were provided with the course material. This suggests that attendees from those faculties obtained value from attending the course itself and the extra learning and interactivity provided by the instructor(s) that cannot be delivered via the course materials. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attend if attendee had the material by faculty', echo = FALSE}

Only_Responses %>%
  group_by(materials_only_corrected, faculty) %>%
  count() %>%
  drop_na(faculty) %>%  
  drop_na(materials_only_corrected) %>%  
  arrange(desc(materials_only_corrected)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(materials_only_corrected = factor(materials_only_corrected, levels=materials_only_corrected),
         Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
      ) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = materials_only_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_viridis(name="Attend with open material",discrete = TRUE, option="viridis") +
  scale_fill_brewer(palette=4,name=paste("Attend if people had\n access to material")) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()


```

In nearly all technologies, attendees said that they would at least “probably” still attend the course even if they had access to the course materials in 60% of more of cases. In particular, attendees of SPSS, R, Python, NVIVO, HPC and MATLAB training reported that they would at least “probably” still attend training in more than 80% of cases. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Attend if attendee had the material by tool/technology.', echo = FALSE}

Only_Responses %>%
  group_by(materials_only_corrected, Technology) %>%
  count() %>%
  drop_na(Technology) %>%  
  drop_na(materials_only_corrected) %>%  
  arrange(desc(materials_only_corrected)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(materials_only_corrected = factor(materials_only_corrected, levels=materials_only_corrected)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = materials_only_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_viridis(name="Attend with open material",discrete = TRUE, option="viridis") +
  scale_fill_brewer(palette=4,name=paste("Attend if people had\n access to material")) +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

## Post-training support

Intersect provided \~35% of post-training support (via extra training or eRA consultation). Peer Support accounted for close to a third of the post-training support that attendees used. 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Post-training support type.', echo = FALSE}


Support_checkbox_long %>%
  group_by(Support_Type) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count)) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  mutate(Support_Type = factor(
    Support_Type,
    levels = c(
      "Peer Support",
      "Self-paced training",
      "Other Intersect training",
      "Other Uni Services",
      "eResearch Analyst"
    )
  )) %>%
  arrange(Support_Type) %>% 
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency),
    ordered_support_type = reorder(Support_Type, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = ordered_support_type
  )) +
  geom_rect() +
  #geom_label( x=3.5, aes(y=labelposition, label=label), size=4, show.legend = FALSE, color=c(1,1,1,"white","white")) +
  geom_text(x = 3.5,
            aes(y = labelposition, label = label),
            size = 5,
            color=c("white","white","white","white",1)) +
  #scale_fill_brewer(palette=4) +
  scale_fill_viridis(discrete = TRUE,
                     option = "viridis",
                     direction = 1)+
coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 13),
    legend.title = element_text(size = 14),
    text = element_text(family = "Lato")
  ) +
  guides(fill = guide_legend(title = "Post-training support"))

```

Professionals used eRA support extensively (in \~30% of cases) which was the highest of all role categories. Support provided by Other University Services was reported in \~10% or less of cases across all roles, sug gesting an absence of such support at universities beyond the services provided by Intersect. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Post-training support type by role.', echo = FALSE}

Support_checkbox_long %>%
  group_by(Support_Type, Role) %>%
  count() %>%
  drop_na(Support_Type) %>%
  arrange(desc(Support_Type)) %>%
  mutate(Role = factor(Role, levels = Role)) %>%
  mutate(Role = as.factor(
    fct_recode(
      Role,
      "HDR (PhD)" = "Higher Degree Research Student (PhD)",
      "HDR (Masters)" = "Higher Degree Research Student (Masters)"
    ))) %>% 
  mutate(Support_Type = factor(
    Support_Type,
    levels = c(
      "Peer Support",
      "Self-paced training",
      "Other Intersect training",
      "Other Uni Services",
      "eResearch Analyst"
    )
  )) %>%
  arrange(Support_Type)  %>%
  ggplot() +
  geom_bar(
    aes(x = reorder(Role,n), y = n, fill = Support_Type),
    stat = 'identity',
    position = "fill",
    width = 0.7
  ) +
  #scale_fill_brewer(palette = 4, name = "Post-training support") +
  scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  #theme_ipsum() +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(
    labels = function(x)
      str_wrap(x, width = 20)
  ) +
  guides(fill = guide_legend(reverse = FALSE)) +
  coord_flip()
```

Peer Support or Self-paced training represented \~50% of post-training support reported by attendees. eRA support was used by attendees from the Faculty of Arts and Social Sciences the most (\~20%). 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Post-training support type by faculty.', echo = FALSE}

Support_checkbox_long %>%
  drop_na(faculty) %>% 
  group_by(Support_Type, faculty) %>%
  count() %>%
  drop_na(Support_Type) %>%  
  arrange(desc(Support_Type)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(Support_Type = factor(Support_Type, levels=Support_Type),
         Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")
          ) %>%
  mutate(Support_Type = factor(
    Support_Type,
    levels = c(
      "Peer Support",
      "Self-paced training",
      "Other Intersect training",
      "Other Uni Services",
      "eResearch Analyst"
    )
  )) %>%
  arrange(Support_Type)  %>%
  ggplot() +
  geom_bar(
    aes(x = Faculty_Short, y = n, fill = Support_Type),
    stat = 'identity',
    position = "fill",
    width = 0.7
  ) +
  #scale_fill_brewer(palette=4,name="Post-training support") +
  scale_fill_viridis(name = "Post-training support",
                     discrete = TRUE,
                     option = "viridis") +
  #theme_ipsum() +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(
    labels = function(x)
      str_wrap(x, width = 18)
  )+
guides(fill = guide_legend(reverse = FALSE)) +
  coord_flip()
```

Attendees of REDCap courses used eRA support the most of any technology (close to 50% of cases). This was similar for NVivo (\~40%). Interestingly, less than 10% of attendees of R and Python courses reported receiving support from eRAs, instead predominantly supporting themselves through self-paced learning and peer support. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Post-training support type by tool/technology.', echo = FALSE}

top_10_tech <- Support_checkbox_long %>%
  drop_na(Technology) %>%
  group_by(Technology) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count)) %>% 
  top_n(10)

Support_checkbox_long %>%
  drop_na(Technology) %>%
  filter(Technology %in% top_10_tech$Technology) %>% 
  group_by(Support_Type, Technology) %>%
  count() %>%
  drop_na(Support_Type) %>%  
  arrange(desc(Support_Type)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(Support_Type = factor(Support_Type, levels = Support_Type)) %>%
  mutate(Support_Type = factor(
    Support_Type,
    levels = c(
      "Peer Support",
      "Self-paced training",
      "Other Intersect training",
      "Other Uni Services",
      "eResearch Analyst"
    )
  )) %>%
  arrange(Support_Type)  %>%
  ggplot() +
  geom_bar(
    aes(x = reorder(Technology, n), y = n, fill = Support_Type),
    stat = 'identity',
    position = "fill",
    width = 0.7
  ) +
  #scale_fill_brewer(palette=4,name="Post-training support") +
  scale_fill_viridis(name = "Post-training support",
                     discrete = TRUE,
                     option = "viridis") +
  #theme_ipsum() +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
    scale_x_discrete(
    labels = function(x)
      str_wrap(x, width = 18)
  )+
  guides(fill = guide_legend(reverse = FALSE)) +
  coord_flip()
```

## Research outputs

Close to 40% of attendees reported that their training attendance directly resulted in a Journal Article publication or contributed to their Thesis. It should be noted that the Thesis category only applied to HDR students. Interestingly, very few attendees reported training attendance contributing to a book chapter (less than 5%). Conferences and Presentations made up close to a third of research outputs following training. 

```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Research output.', echo = FALSE}

# Create a palette from library(rcartocolor)
vivid_pal <- carto_pal(12, "Vivid")
safe_pal <- carto_pal(12, "Safe")
pastel_pal <- carto_pal(12, "Pastel")
prism_pal <- carto_pal(30, "Prism")

ResearchOutputs_checkbox_long %>%
  group_by(`Research Output`) %>%
  summarise(Count = n()) %>%
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency),
    orderd_research_output = reorder(`Research Output`, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = orderd_research_output
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    size = c(5, 5, 5, 5, 5, 5, 4, 3, 2.5, 6, 6, 6),
    check_overlap = TRUE,
    color = "white"
  ) +
  # scale_fill_brewer(palette="Paired") + #Set3 palette
  scale_fill_manual(values = prism_pal) +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")) +
  guides(fill = guide_legend(title = "Research outputs"))
```
```{r, message = FALSE, warning = FALSE, out.height = '25%', fig.align='center', fig.cap='Research output.', echo = FALSE}

# Create a palette from library(rcartocolor)
vivid_pal <- carto_pal(12, "Vivid")
safe_pal <- carto_pal(12, "Safe")
pastel_pal <- carto_pal(12, "Pastel")
prism_pal <- carto_pal(30, "Prism")

# Top 6 research outputs

ResearchOutputs_checkbox_long %>%
  group_by(`Research Output`) %>%
  summarise(Count = n()) %>%
  top_n(6) %>% 
  mutate(Frequency = formattable::percent(Count / sum(Count))) %>%
  arrange(desc(Frequency)) %>%
  mutate(
    ymax = cumsum(Frequency),
    ymin = c(0, head(ymax, n = -1)),
    labelposition = (ymax + ymin) / 2,
    label = paste0(Frequency),
    orderd_research_output = reorder(`Research Output`, -Frequency)
  ) %>%
  ggplot(aes(
    ymax = ymax,
    ymin = ymin,
    xmax = 4,
    xmin = 3,
    fill = orderd_research_output
  )) +
  geom_rect() +
  # geom_label( x=3.5, aes(y=labelposition, label=label), size=4.5) +
  geom_text(
    x = 3.5,
    aes(y = labelposition, label = label),
    size = c(5, 5, 5, 5, 5, 5),
    check_overlap = TRUE,
    color = "white"
  ) +
  # scale_fill_brewer(palette="Paired") + #Set3 palette
  scale_fill_manual(values = prism_pal) +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  coord_polar(theta = "y") +
  xlim(c(1.5, 4)) +
  theme_void() +
  theme(legend.position = "right",
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")) +
  guides(fill = guide_legend(title = "Research outputs"))
```

Professionals reported that training contributed to the publication of a journal article in \~30% of cases, the most of any role category. Contribution of training attendance to conference presentations was also close to 20% across all roles, and when combined with Presentation was close to 40% in all categories. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs by role.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  group_by(`Research Output`, Role) %>%
  count() %>%
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`),desc(n)) %>% 
  mutate(Role = factor(Role, levels=Role)) %>%
  mutate(`Research Output` = factor(`Research Output`, levels=`Research Output`)) %>%
  ggplot() +
  geom_bar(aes(x = Role, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Role/Position",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

**Text here**

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs (top 6) by role.', echo = FALSE}

# mutate(Support_Type = factor(
#     Support_Type,
#     levels = c(
#       "Peer Support",
#       "Self-paced training",
#       "Other Intersect training",
#       "Other Uni Services",
#       "eResearch Analyst"
#     )
#   )) %>%
#   arrange(Support_Type)  %>%

ResearchOutputs_checkbox_long %>%
  group_by(`Research Output`, Role) %>%
  count() %>%
  drop_na(`Research Output`) %>%
  arrange(desc(`Research Output`), desc(n)) %>%
  mutate(Role = factor(Role, levels = Role)) %>%
  mutate(Role = as.factor(
    fct_recode(Role,
               "HDR (PhD)" = "Higher Degree Research Student (PhD)",
               "HDR (Masters)" = "Higher Degree Research Student (Masters)")
  )) %>%
  filter(
    `Research Output` %in% c(
      "Thesis/Dissertation",
      "Report",
      "Presentation",
      "Poster",
      "Journal Article",
      "Conference"
    )) %>% 
  mutate(`Research Output` = factor(`Research Output`, 
                                    levels = c(
      "Journal Article",
      "Thesis/Dissertation",
      "Presentation",
      "Conference",
      "Report",
      "Poster"
    ))) %>%
  ggplot() +
  geom_bar(aes(x = reorder(Role,n), y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = FALSE))+
  coord_flip()
```

The Faculty of Arts and Social Sciences and Faculty of Business reported contribution of training attendance to Journal Article publications in \~25% of cases, the most across all faculties. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs by faculty.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  drop_na(faculty) %>% 
  group_by(`Research Output`, faculty) %>%
  count() %>%
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(`Research Output` = factor(`Research Output`, levels=`Research Output`),
         Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

In terms of the top six research outputs, journal articles accounted for 25-30% in all faculties except for the Faculty of Law and the Faculty of Architecture, Design & Planning. Of these two faculties, more than 30% of the research outputs were Thesis/Dissertation, followed by Conference and Presentation. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs (top 6) by faculty.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  drop_na(faculty) %>% 
  group_by(`Research Output`, faculty) %>%
  count() %>%
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`)) %>% 
  mutate(faculty = factor(faculty, levels=faculty)) %>%
  mutate(`Research Output` = factor(`Research Output`, levels=`Research Output`),
         Faculty_Short = case_when(
          faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
          faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
          faculty == "Faculty of Engineering" ~ "Engineering",
          faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
          faculty == "Faculty of Law" ~ "Law",
          faculty == "Faculty of Science" ~ "Science",
          faculty == "Business School" ~ "Business",
          faculty == "Other/Not Applicable" ~ "Other/Not Applicable")) %>%
  filter(`Research Output` %in% c("Thesis/Dissertation","Report","Presentation",
                               "Poster","Journal Article","Conference")) %>%
   mutate(`Research Output` = factor(`Research Output`, 
                                    levels = c(
      "Journal Article",
      "Thesis/Dissertation",
      "Presentation",
      "Conference",
      "Report",
      "Poster"
    ))) %>%
  ggplot() +
  geom_bar(aes(x = Faculty_Short, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 13),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))+
  guides(fill = guide_legend(reverse = FALSE))+
  coord_flip()
```

There was minimal difference between research technologies in terms of research outputs. Attendees of training in most technologies reported contribution to Journal Articles in \~25% of cases, Conferences in \~15% of cases, and Presentations in \~15% of cases. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs by tool/technology.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  drop_na(Technology) %>% 
  group_by(`Research Output`, Technology) %>%
  count() %>%
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(`Research Output` = factor(`Research Output`, levels=`Research Output`)) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

**Text here**

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs (top 6) by tool/technology.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  drop_na(Technology) %>% 
  group_by(`Research Output`, Technology) %>%
  count() %>%
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`)) %>% 
  mutate(Technology = factor(Technology, levels=Technology)) %>%
  mutate(`Research Output` = factor(`Research Output`, levels=`Research Output`)) %>%
  filter(`Research Output` %in% c("Thesis/Dissertation","Report","Presentation",
                               "Poster","Journal Article","Conference")) %>%
  ggplot() +
  geom_bar(aes(x = Technology, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  # scale_fill_brewer(palette="Paired",name="Research outputs") +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  # scale_fill_viridis(name="Post-training support",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Tool/Technology",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Sankey diagram of top 7 research outputs, leveled by faculty and technology.', echo = FALSE}
#### Top 7 research output - Faculty - Tool ####
#### Using ggsankey package
#### Ref: https://rpubs.com/techanswers88/sankey-with-own-data-in-ggplot

# install.packages("remotes")
# remotes::install_github("davidsjoberg/ggsankey")
library(ggsankey)

top_10_tech_research_output<- ResearchOutputs_checkbox_long %>% 
  group_by(Technology) %>% 
  summarise(Count = n()) %>%
  arrange(desc(Count)) %>% 
  top_n(10)

ResearchOutput_Faculty_Tool <- 
  ResearchOutputs_checkbox_long %>%
  drop_na(faculty) %>% 
  drop_na(`Research Output`) %>%  
  # arrange(desc(`Research Output`)) %>%
  # filter(faculty!="Other/Not Applicable") %>%
  filter(Technology %in% top_10_tech_research_output$Technology) %>% 
  select(`Research Output`,faculty,Technology) %>% 
  mutate(
    Faculty = case_when(
      faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
      faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
      faculty == "Faculty of Engineering" ~ "Engineering",
      faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
      faculty == "Faculty of Law" ~ "Law",
      faculty == "Faculty of Science" ~ "Science",
      faculty == "Business School" ~ "Business",
      faculty == "Other/Not Applicable" ~ "Other/Not Applicable"
    )
  ) %>%
  filter(
    `Research Output` %in% c(
     "Journal Article",
      "Thesis/Dissertation",
      "Presentation",
      "Conference",
      "Report",
      "Poster"
    )
  )

# Transform data
ResearchOutput_Faculty_Tool_Transformed <- ResearchOutput_Faculty_Tool %>% 
  make_long(`Research Output`,Faculty,Technology)

TotalCount = nrow(ResearchOutput_Faculty_Tool)

ResearchOutput_Faculty_Tool_Percent<- ResearchOutput_Faculty_Tool %>% 
  make_long(`Research Output`,Faculty,Technology) %>%
  group_by(node) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ TotalCount))

ResearchOutput_Faculty_Tool_Transformed_Percent <-
  merge(
    ResearchOutput_Faculty_Tool_Transformed,
    ResearchOutput_Faculty_Tool_Percent,
    by.x = 'node',
    by.y = 'node',
    all.x = TRUE
  )

library(randomcoloR)
n <- 32
palette <- distinctColorPalette(n)

# Create sankey plot: Output - Faculty - Technology
ResearchOutput_Faculty_Tool_Transformed_Percent %>% 
  ggplot(aes(x = x, 
             next_x = next_x,
             node = node,
             next_node = next_node,
             fill = factor(node),
             # label = node
             label = paste0(node," n=", Count, ' (', Frequency, ')')
             ))+
  geom_sankey(flow.alpha = 0.5,
              node.color = "gray40",
              show.legend = FALSE)+
  geom_sankey_label(size = 2.5,
                    color = "black",
                    fill= "white",
                    hjust = 0,
                    family = "Lato"
                    # width = 0.2
                    )+
  theme_bw()+
  theme(legend.position = "none")+
 theme(legend.position = "none")+
    theme(
    axis.title = element_blank(),
    axis.text.y = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
    panel.border = element_blank(),
    axis.text = element_text(size = 11),
    text = element_text(family = "Lato")
  ) +
  scale_fill_manual(values = palette)+
  # labs(title = "Sankey diagram of top 7 research outputs")+
  # labs(subtitle = "leveled by Faculty and Technology")+
  # labs(caption = "Intersect Australia")+
  labs(fill = 'Nodes')+
  scale_x_discrete(expand = expansion(mult = c(0.11,0.25)))
```

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Sankey diagram of top 7 research outputs, leveled by role and technology.', echo = FALSE}
#### Top 6 research output - Role - Tool ####

# install.packages("remotes")
# remotes::install_github("davidsjoberg/ggsankey")
library(ggsankey)

ResearchOutput_Role_Tool <-
  ResearchOutputs_checkbox_long %>%
  drop_na(Role) %>%
  drop_na(`Research Output`) %>%
  # arrange(desc(`Research Output`)) %>%
  filter(Technology %in% top_10_tech_research_output$Technology) %>% 
  select(`Research Output`, Role, Technology) %>%
  filter(
    `Research Output` %in% c(
      "Journal Article",
      "Thesis/Dissertation",
      "Presentation",
      "Conference",
      "Report",
      "Poster"
    )) %>% 
  mutate(
    Role = as.factor(
      fct_recode(Role,
                 "HDR (PhD)" = "Higher Degree Research Student (PhD)",
                 "HDR (Masters)" = "Higher Degree Research Student (Masters)")))
      

# Transform data
ResearchOutput_Role_Tool_Transformed <- ResearchOutput_Role_Tool %>% 
  make_long(`Research Output`,Role,Technology)

TotalCount = nrow(ResearchOutput_Role_Tool)

ResearchOutput_Role_Tool_Percent<- ResearchOutput_Role_Tool %>% 
  make_long(`Research Output`,Role,Technology) %>%
  group_by(node) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ TotalCount))

ResearchOutput_Role_Tool_Transformed_Percent <-
  merge(
    ResearchOutput_Role_Tool_Transformed,
    ResearchOutput_Role_Tool_Percent,
    by.x = 'node',
    by.y = 'node',
    all.x = TRUE
  )

library(randomcoloR)
n <- 32
palette <- distinctColorPalette(n)

# Create sankey plot: Output - Faculty - Technology
ResearchOutput_Role_Tool_Transformed_Percent %>% 
  ggplot(aes(x = x, 
             next_x = next_x,
             node = node,
             next_node = next_node,
             fill = factor(node),
             # label = node
             label = paste0(node," n=", Count, ' (', Frequency, ')')
             ))+
  geom_sankey(flow.alpha = 0.5,
              node.color = "gray40",
              show.legend = FALSE)+
  geom_sankey_label(size = 2.5,
                    color = "black",
                    fill= "white",
                    hjust = 0,
                    family = "Lato"
                    # width = 0.2
                    )+
  theme_bw()+
  theme(legend.position = "none")+
    theme(
    axis.title = element_blank(),
    axis.text.y = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
    panel.border = element_blank(),
    axis.text = element_text(size = 11),
    text = element_text(family = "Lato")
  ) +
  scale_fill_manual(values = palette)+
  # labs(title = "Sankey diagram of top 7 research outputs") +
  # labs(subtitle = "leveled by role and technology")+
  # labs(caption = "Intersect Australia")+
  labs(fill = 'Nodes')+
  scale_x_discrete(expand = expansion(mult = c(0.11,0.25)))
```
```{r, message = FALSE, warning = FALSE, out.width = '100%', fig.align='center', fig.cap='Sankey diagram of top 6 research outputs, leveled by role and faculty', echo = FALSE}
#### Top 6 research output - Role - Faculty ####

# install.packages("remotes")
# remotes::install_github("davidsjoberg/ggsankey")
# library(ggsankey)

ResearchOutput_Role_Faculty <-
  ResearchOutputs_checkbox_long %>%
  drop_na(Role) %>%
  drop_na(`Research Output`) %>%
  drop_na(faculty) %>%
  # arrange(desc(`Research Output`)) %>%
  # filter(Technology %in% top_10_tech_research_output$Technology) %>% 
  select(`Research Output`, Role, faculty) %>%
  filter(
    `Research Output` %in% c(
      "Journal Article",
      "Thesis/Dissertation",
      "Presentation",
      "Conference",
      "Report",
      "Poster"
    )) %>% 
  mutate(
    Role = as.factor(
      fct_recode(Role,
                 "HDR (PhD)" = "Higher Degree Research Student (PhD)",
                 "HDR (Masters)" = "Higher Degree Research Student (Masters)"))) %>% 
  mutate(
    Faculty = case_when(
      faculty == "Faculty of Medicine and Health" ~ "Medicine and Health",
      faculty == "Faculty of Architecture, Design and Planning" ~ "Architecture, Design & Planning",
      faculty == "Faculty of Engineering" ~ "Engineering",
      faculty == "Faculty of Arts and Social Sciences" ~ "Arts & Social Sciences",
      faculty == "Faculty of Law" ~ "Law",
      faculty == "Faculty of Science" ~ "Science",
      faculty == "Business School" ~ "Business",
      faculty == "Other/Not Applicable" ~ "Other/Not Applicable"
    ))

# Transform data
ResearchOutput_Role_Faculty_Transformed <- ResearchOutput_Role_Faculty %>% 
  make_long(Role, Faculty, `Research Output`)

TotalCount = nrow(ResearchOutput_Role_Faculty)

ResearchOutput_Role_Faculty_Percent<- ResearchOutput_Role_Faculty %>% 
  make_long(Role, Faculty, `Research Output`) %>%
  group_by(node) %>% 
  summarise(Count = n()) %>% 
  mutate(Frequency = formattable::percent(Count/ TotalCount))

ResearchOutput_Role_Faculty_Transformed_Percent <-
  merge(
    ResearchOutput_Role_Faculty_Transformed,
    ResearchOutput_Role_Faculty_Percent,
    by.x = 'node',
    by.y = 'node',
    all.x = TRUE
  )

library(randomcoloR)
n <- 32
palette <- distinctColorPalette(n)

# Create sankey plot: Output - Faculty - Technology
ResearchOutput_Role_Faculty_Transformed_Percent %>% 
  ggplot(aes(x = x, 
             next_x = next_x,
             node = node,
             next_node = next_node,
             fill = factor(node),
             # label = node
             label = paste0(node," n=", Count, ' (', Frequency, ')')
             ))+
  geom_sankey(flow.alpha = 0.5,
              node.color = "gray40",
              show.legend = FALSE)+
  geom_sankey_label(size = 2.5,
                    color = "black",
                    fill= "white",
                    hjust = 0,
                    # width = 0.2
                    family = "Lato"
                    )+
  theme_bw() +
  theme(legend.position = "none") +
  theme(
    axis.title = element_blank(),
    axis.text.y = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
    panel.border = element_blank(),
    axis.text = element_text(size = 11),
    text = element_text(family = "Lato")
  ) +
  scale_fill_manual(values = palette)+
  # labs(title = "Sankey diagram of top 7 research outputs") +
  # labs(subtitle = "leveled by role and technology")+
  # labs(caption = "Intersect Australia")+
  labs(fill = 'Nodes')+
  scale_x_discrete(expand = expansion(mult = c(0.11,0.34)))
  
```

## Competency

More than 75% of training attendees who attended Intersect courses at the Introductory level considered the courses to be either extremely or very worthwhile . Nearly 90% of the Intermediate level course attendees and all of the Advanced level course attendees found it was extremely or very worthwhile taking part in the courses. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Worthwhile for attending the training by course level.', echo = FALSE}

Only_Responses %>%
  group_by(Level,reaction_corrected) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(reaction_corrected) %>%  
  arrange(desc(reaction_corrected)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = reaction_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Worthwhile") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Figure \@ref(fig:frequency-by-level) shows how frequently the attendees were able to apply the technology/knowledge taught in the course after completing the course. Over half of the attendees of introductory and intermediate courses, and three quarters of the advanced course participants indicated that they apply the technology learned through the training either often or frequently. A further  25% of all course participants reported that they sometimes applied the technology.

```{r frequency-by-level, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Frequency in applying technology by course level.', echo = FALSE}

Only_Responses %>%
  group_by(Level,behaviour_corrected) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(behaviour_corrected) %>%  
  arrange(desc(behaviour_corrected)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = behaviour_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Frequency") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

A great majority of the course attendees expressed that they were more confident applying the technology learnt during the course. This was 90% of the participants who attended the introductory and intermediate courses, and 100% of who attended the advanced courses. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Confidence in applying technology by course level.', echo = FALSE}

Only_Responses %>%
  group_by(Level,learning_corrected) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(learning_corrected) %>%  
  arrange(desc(learning_corrected)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = learning_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Apply Technology") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Figure \@ref(fig:helpful-by-level) shows the responses to the question as to whether the training courses were helpful for the research of the trainee by course level. Over 90% of the participants of introductory and intermediate courses found the training helpful with 30% - 40% indicating the courses were extremely helpful. In terms of the advanced courses, all the participants said the courses were either “Very helpful” or “Extremely helpful”. .

```{r helpful-by-level, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Helpful of the training by course level.', echo = FALSE}

Only_Responses %>%
  group_by(Level,results_corrected) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(results_corrected) %>%  
  arrange(desc(results_corrected)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = results_corrected),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Helpful") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Figure \@ref(fig:post-training-by-level) shows the type of post-training support that the attendees have obtained by course level. The distribution is similar for the introductory and intermediate courses. About a quarter of the course attendees conducted further self-paced training, while another quarter sought support from their peers. Among the rest of participants, 10% - 15% received support from the Intersect eResearch Analyst and  20% attended other Intersect training courses. As for the advanced course attendees: half of the participants have used other services available at the university and another half have taken the advantage of the Intersect services (other training and support from the eResearch Analyst). 

```{r post-training-by-level, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Post-training support by course level.', echo = FALSE}

Support_checkbox_long %>%
  group_by(Level,Support_Type) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(Support_Type) %>%  
  arrange(desc(Support_Type)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = Support_Type),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4, name = "Post-training support") +
  # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Course attendees were also asked what research output the knowledge they acquired during the course contributed to and Figure \@ref(fig:research-output-by-level) presents this information by the course level. For all three course levels, Thesis/Dissertation, Presentation, Journal Article, and Conference are the main research outputs the courses have contributed to. It is also worth highlighting that introductory and intermediate courses participants have applied the learning outcome to a broader array of research outputs, such as Published Software, Figures/s, Dataset, etc. 

```{r research-output-by-level, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='Research outputs by course level.', echo = FALSE}

ResearchOutputs_checkbox_long %>%
  group_by(Level,`Research Output`) %>%
  count() %>%
  drop_na(Level) %>%  
  drop_na(`Research Output`) %>%  
  arrange(desc(`Research Output`)) %>% 
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = `Research Output`),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_manual(values = prism_pal,name="Research outputs") +
  #theme_ipsum() + 
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Course Level",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+
  coord_flip()
```

Course attendees were asked to provide the type of support they have received from the Intersect eRAs. For both introductory and intermediate courses, nearly a half of the attendees have received one-time consultation with the eRAs and around a third received ongoing support. The remaining attendees have had a research collaboration with the eRAs. As for the advanced courses, all attendees obtained one-time support from the eRAs. 

```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='eResearch Analysts support by course level.', echo = FALSE}

Only_Responses %>%
  mutate(Type_support = `In what capacity have you been working with your local eResearch Analyst(s)?`) %>% 
  drop_na(Level, Type_support) %>% 
  group_by(Level, Type_support) %>%
  count() %>%
  drop_na(Level) %>%  
  arrange(desc(Level)) %>% 
  # mutate(Type_support = factor(Type_support, levels=Type_support)) %>%
  mutate(Level = factor(Level, levels=Level)) %>%
  ggplot() +
  geom_bar(aes(x = Level, y = n, fill = Type_support),
           stat = 'identity',
           position = "fill",
           width = 0.7) +
  scale_fill_brewer(palette=4,name="Type of eRA support") +
  theme_bw() +
  theme(
    legend.position = "right",
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 11),
    legend.text = element_text(size = 11),
    legend.title = element_text(size = 13),
    text = element_text(family = "Lato")
  ) +
  labs(x = "Faculty",
       y = "Percentage of Responses") +
  scale_y_continuous(labels = scales::percent_format()) +
  guides(fill = guide_legend(reverse = TRUE))+ 
  coord_flip()
```

<!-- ### Time difference between Survey and course - Worthwhile -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- Time_diff_df %>% -->

<!--   group_by(Time_diff_case,reaction_corrected) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(reaction_corrected) %>% -->

<!--   arrange(desc(reaction_corrected)) %>% -->

<!--   # mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = reaction_corrected), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_brewer(palette=4, name = "Worthwhile") + -->

<!--   # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- ### Time diff between Survey and course - Frequency -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- Time_diff_df %>% -->

<!--   group_by(Time_diff_case,behaviour_corrected) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(behaviour_corrected) %>% -->

<!--   arrange(desc(behaviour_corrected)) %>% -->

<!--   # mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = behaviour_corrected), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_brewer(palette=4, name = "Frequency") + -->

<!--   # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- # Time diff between Survey and course - Apply technology -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- Time_diff_df %>% -->

<!--   group_by(Time_diff_case,learning_corrected) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(learning_corrected) %>% -->

<!--   arrange(desc(learning_corrected)) %>% -->

<!--   # mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = learning_corrected), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_brewer(palette=4, name = "Apply technology") + -->

<!--   # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- # Time diff between Survey and course - Helpful -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- Time_diff_df %>% -->

<!--   group_by(Time_diff_case,results_corrected) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(results_corrected) %>% -->

<!--   arrange(desc(results_corrected)) %>% -->

<!--   # mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = results_corrected), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_brewer(palette=4, name = "Helpful") + -->

<!--   # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- # Time diff between Survey and course - Research Outputs -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- ResearchOutputs_checkbox_long_time_diff %>% -->

<!--   group_by(Time_diff_case,`Research Output`) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(`Research Output`) %>% -->

<!--   arrange(desc(`Research Output`)) %>% -->

<!--   mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = `Research Output`), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_manual(values = prism_pal,name="Research outputs") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- ResearchOutputs_checkbox_long_time_diff %>% -->

<!--   group_by(Time_diff_case,`Research Output`) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(`Research Output`) %>% -->

<!--   arrange(desc(`Research Output`)) %>% -->

<!--   mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   filter(`Research Output` %in% c("Thesis/Dissertation","Report","Presentation", -->

<!--                                "Poster","Journal Article","Conference")) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = `Research Output`), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_manual(values = prism_pal,name="Research outputs") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->

<!-- # Time diff between Survey and course - Post-training support -->

<!-- ```{r, message = FALSE, warning = FALSE, out.width = '90%', fig.align='center', fig.cap='...', echo = FALSE} -->

<!-- Support_checkbox_long_time_diff %>% -->

<!--   group_by(Time_diff_case,Support_Type) %>% -->

<!--   count() %>% -->

<!--   drop_na(Time_diff_case) %>% -->

<!--   drop_na(Support_Type) %>% -->

<!--   arrange(desc(Support_Type)) %>% -->

<!--   mutate(Time_diff_case = factor(Time_diff_case, levels=Time_diff_case)) %>% -->

<!--   ggplot() + -->

<!--   geom_bar(aes(x = Time_diff_case, y = n, fill = Support_Type), -->

<!--            stat = 'identity', -->

<!--            position = "fill", -->

<!--            width = 0.7) + -->

<!--   scale_fill_brewer(palette=4, name = "Post-training support") + -->

<!--   # scale_fill_viridis(name="Worthwhile",discrete = TRUE, option="viridis") + -->

<!--   #theme_ipsum() + -->

<!--   theme_bw() + -->

<!--   theme( -->

<!--     legend.position = "right", -->

<!--     axis.title = element_text(size = 14), -->

<!--     axis.text = element_text(size = 14), -->

<!--     legend.text = element_text(size = 11), -->

<!--     legend.title = element_text(size = 13), -->

<!--     text = element_text(family = "Lato") -->

<!--   ) + -->

<!--   labs(x = "Time difference between Survey response and\n date participant attended the cours [Days]", -->

<!--        y = "Percentage of Responses") + -->

<!--   scale_y_continuous(labels = scales::percent_format()) + -->

<!--   coord_flip() -->

<!-- ``` -->
